"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[826],{3856:(e,t,n)=>{let r;n.d(t,{B:()=>s9,C:()=>sb,E:()=>V,F:()=>sW,G:()=>sY,H:()=>M,K:()=>s,M:()=>d,Q:()=>iH,S:()=>u,V:()=>D,a:()=>i5,b:()=>i9,c:()=>U,d:()=>iI,e:()=>oh,f:()=>ob,g:()=>B,h:()=>q,i:()=>iX,j:()=>oO,k:()=>oR,l:()=>I,m:()=>oE,n:()=>h,o:()=>k,p:()=>i$,q:()=>P,r:()=>o_,s:()=>of,t:()=>z,u:()=>sL,v:()=>x,w:()=>op,x:()=>od,y:()=>sD,z:()=>sP});var i,o,s,a,u,c,l,p,d,h,f,_=n(1540),E=Object.defineProperty,T=Object.defineProperties,y=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,O=(e,t,n)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S=(e,t)=>{for(var n in t||(t={}))g.call(t,n)&&O(e,n,t[n]);if(v)for(var n of v(t))m.call(t,n)&&O(e,n,t[n]);return e},b=(e,t)=>T(e,y(t)),R=(e,t)=>{var n={};for(var r in e)g.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&v)for(var r of v(e))0>t.indexOf(r)&&m.call(e,r)&&(n[r]=e[r]);return n},w=(e,t,n)=>O(e,"symbol"!=typeof t?t+"":t,n),L=(e,t,n)=>new Promise((r,i)=>{var o=e=>{try{a(n.next(e))}catch(e){i(e)}},s=e=>{try{a(n.throw(e))}catch(e){i(e)}},a=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,s);a((n=n.apply(e,t)).next())});let A=({apiKey:e})=>{!function(t,n){var r=t.amplitude||{_q:[],_iq:{}},i=n.createElement("script");i.type="text/javascript",i.integrity="sha384-+EO59vL/X7v6VE2s6/F4HxfHlK0nDUVWKVg8K9oUlvffAeeaShVBmbORTC2D3UF+",i.crossOrigin="anonymous",i.async=!0,i.src="https://cdn.amplitude.com/libs/amplitude-8.17.0-min.gz.js",i.onload=function(){t.amplitude.runQueuedFunctions||console.log("[Amplitude] Error: could not load SDK"),amplitude.getInstance().init(e)};var o=n.getElementsByTagName("script")[0];function s(e,t){e.prototype[t]=function(){return this._q.push([t].concat(Array.prototype.slice.call(arguments,0))),this}}o.parentNode.insertBefore(i,o);for(var a=function(){return this._q=[],this},u=["add","append","clearAll","prepend","set","setOnce","unset","preInsert","postInsert","remove"],c=0;c<u.length;c++)s(a,u[c]);r.Identify=a;for(var l=function(){return this._q=[],this},p=["setProductId","setQuantity","setPrice","setRevenueType","setEventProperties"],d=0;d<p.length;d++)s(l,p[d]);r.Revenue=l;var h=["init","logEvent","logRevenue","setUserId","setUserProperties","setOptOut","setVersionName","setDomain","setDeviceId","enableTracking","setGlobalUserProperties","identify","clearUserProperties","setGroup","logRevenueV2","regenerateDeviceId","groupIdentify","onInit","logEventWithTimestamp","logEventWithGroups","setSessionId","resetSessionId"];function f(e){for(var t=0;t<h.length;t++)!function(t){e[t]=function(){e._q.push([t].concat(Array.prototype.slice.call(arguments,0)))}}(h[t])}f(r),r.getInstance=function(e){return e=(e&&0!==e.length?e:"$default_instance").toLowerCase(),Object.prototype.hasOwnProperty.call(r._iq,e)||(r._iq[e]={_q:[]},f(r._iq[e])),r._iq[e]},t.amplitude=r}(window,document)},N=({projectToken:e})=>{if(window.mixpanel)return;!function(e,t){if(!t.__SV){var n,r;window.mixpanel=t,t._i=[],t.init=function(e,i,o){var s=t;for(void 0!==o?s=t[o]=[]:o="mixpanel",s.people=s.people||[],s.toString=function(e){var t="mixpanel";return"mixpanel"!==o&&(t+="."+o),e||(t+=" (stub)"),t},s.people.toString=function(){return s.toString(1)+".people (stub)"},n="disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking start_batch_senders people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" "),r=0;r<n.length;r++)(function(e,t){var n=t.split(".");2==n.length&&(e=e[n[0]],t=n[1]),e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}})(s,n[r]);var a="set set_once union unset remove delete".split(" ");s.get_group=function(){for(var e={},t=["get_group"].concat(Array.prototype.slice.call(arguments,0)),n=0;n<a.length;n++)(function(n){e[n]=function(){call2_args=arguments,call2=[n].concat(Array.prototype.slice.call(call2_args,0)),s.push([t,call2])}})(a[n]);return e},t._i.push([e,i,o])},t.__SV=1.2}}(document,window.mixpanel||[]);let t=document.createElement("script");t.src=C,document.head.appendChild(t),t.addEventListener("load",()=>{var t;null==(t=window.mixpanel)||t.init(e)})},C="https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js",I=1e3,P=2e3,k=144e5,x={normal:{bytes:1e7,time:24e4},canvas:{bytes:16e6,time:5e3}},D=100,M="app.highlight.io";var U="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function B(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var j,F={exports:{}},H={exports:{}};!function(e,t){var n,r;n=function(e){var t=/(^|@)\S+:\d+/,n=/^\s*at .*(\S+:\d+|\(native\))/m,r=/^(eval@)?(\[native code])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(t){return t.stack.split(`
`).filter(function(e){return!!e.match(n)},this).map(function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var n=t.replace(/^\s+/,"").replace(/\(eval code/g,"("),r=n.match(/ (\((.+):(\d+):(\d+)\)$)/),i=(n=r?n.replace(r[0],""):n).split(/\s+/).slice(1),o=this.extractLocation(r?r[1]:i.pop());return new e({functionName:i.join(" ")||void 0,fileName:["eval","<anonymous>"].indexOf(o[0])>-1?void 0:o[0],lineNumber:o[1],columnNumber:o[2],source:t})},this)},parseFFOrSafari:function(t){return t.stack.split(`
`).filter(function(e){return!e.match(r)},this).map(function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var n=/((.*".+"[^@]*)?[^@]*)(?:@)/,r=t.match(n),i=r&&r[1]?r[1]:void 0,o=this.extractLocation(t.replace(n,""));return new e({functionName:i,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:t})},this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf(`
`)>-1&&e.message.split(`
`).length>e.stacktrace.split(`
`).length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=t.message.split(`
`),i=[],o=2,s=r.length;o<s;o+=2){var a=n.exec(r[o]);a&&i.push(new e({fileName:a[2],lineNumber:a[1],source:r[o]}))}return i},parseOpera10:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=t.stacktrace.split(`
`),i=[],o=0,s=r.length;o<s;o+=2){var a=n.exec(r[o]);a&&i.push(new e({functionName:a[3]||void 0,fileName:a[2],lineNumber:a[1],source:r[o]}))}return i},parseOpera11:function(n){return n.stack.split(`
`).filter(function(e){return!!e.match(t)&&!e.match(/^Error created at/)},this).map(function(t){var n,r=t.split("@"),i=this.extractLocation(r.pop()),o=r.shift()||"",s=o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;return o.match(/\(([^)]*)\)/)&&(n=o.replace(/^[^(]+\(([^)]*)\)$/,"$1")),new e({functionName:s,args:void 0===n||"[arguments not available]"===n?void 0:n.split(","),fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:t})},this)}}},e.exports=n((j||(j=1,r=function(){function e(e){return e.charAt(0).toUpperCase()+e.substring(1)}function t(e){return function(){return this[e]}}var n=["isConstructor","isEval","isNative","isToplevel"],r=["columnNumber","lineNumber"],i=["fileName","functionName","source"],o=n.concat(r,i,["args"],["evalOrigin"]);function s(t){if(t)for(var n=0;n<o.length;n++)void 0!==t[o[n]]&&this["set"+e(o[n])](t[o[n]])}s.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof s)this.evalOrigin=e;else if(e instanceof Object)this.evalOrigin=new s(e);else throw TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",n=this.getColumnNumber()||"",r=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+n+")":"[eval]:"+t+":"+n:r?r+" ("+e+":"+t+":"+n+")":e+":"+t+":"+n}},s.fromString=function(e){var t=e.indexOf("("),n=e.lastIndexOf(")"),r=e.substring(0,t),i=e.substring(t+1,n).split(","),o=e.substring(n+1);if(0===o.indexOf("@"))var a=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(o,""),u=a[1],c=a[2],l=a[3];return new s({functionName:r,args:i||void 0,fileName:u,lineNumber:c||void 0,columnNumber:l||void 0})};for(var a=0;a<n.length;a++)s.prototype["get"+e(n[a])]=t(n[a]),s.prototype["set"+e(n[a])]=function(e){return function(t){this[e]=!!t}}(n[a]);for(var u=0;u<r.length;u++)s.prototype["get"+e(r[u])]=t(r[u]),s.prototype["set"+e(r[u])]=function(e){return function(t){if(!(!isNaN(parseFloat(t))&&isFinite(t)))throw TypeError(e+" must be a Number");this[e]=Number(t)}}(r[u]);for(var c=0;c<i.length;c++)s.prototype["get"+e(i[c])]=t(i[c]),s.prototype["set"+e(i[c])]=function(e){return function(t){this[e]=String(t)}}(i[c]);return s},H.exports=r()),H.exports))}(F);let V=B(F.exports);function X(e){return"[object Object]"===Object.prototype.toString.call(e)}function G(e,t){let n={numOfKeysLimit:50,depthOfLimit:4};Object.assign(n,t);let r=[],i=[];return JSON.stringify(e,function(e,t){var o;if(r.length>0){let n=r.indexOf(this);~n?r.splice(n+1):r.push(this),~n?i.splice(n,1/0,e):i.push(e),~r.indexOf(t)&&(t=r[0]===t?"[Circular ~]":"[Circular ~."+i.slice(0,r.indexOf(t)).join(".")+"]")}else r.push(t);if(null==t)return t;if(X(o=t)&&Object.keys(o).length>n.numOfKeysLimit||"function"==typeof o||(o instanceof Event&&!1===o.isTrusted?1===Object.keys(o).length:!!(X(o)&&function e(t,n){if(0===n)return!0;for(let r of Object.keys(t))if(X(t[r])&&e(t[r],n-1))return!0;return!1}(o,n.depthOfLimit)))){let e;return e=t.toString(),n.stringLengthLimit&&e.length>n.stringLengthLimit&&(e=`${e.slice(0,n.stringLengthLimit)}...`),e}if(t instanceof Event){let e={};for(let n in t){let r=t[n];Array.isArray(r)?e[n]=function(e){if(!e||!e.outerHTML)return"";let t="";for(;e.parentElement;){let n=e.localName;if(!n)break;n=n.toLowerCase();let r=e.parentElement,i=[];if(r.children&&r.children.length>0)for(let e=0;e<r.children.length;e++){let t=r.children[e];t.localName&&t.localName.toLowerCase&&t.localName.toLowerCase()===n&&i.push(t)}i.length>1&&(n+=":eq("+i.indexOf(e)+")"),t=n+(t?">"+t:""),e=r}return t}(r.length?r[0]:null):e[n]=r}return e}return t instanceof Node?t instanceof HTMLElement?t?t.outerHTML:"":t.nodeName:t instanceof Error?t.name+": "+t.message:t})}function q(){var e;return(e=document.createElement("canvas")).getContext&&e.getContext("2d")&&0==e.toDataURL("image/webp").indexOf("data:image/webp")?{type:"image/webp",quality:.9}:{type:"image/jpeg",quality:.6}}var K={exports:{}};!function(e,t){(e.exports=function(e,t,r,i){return JSON.stringify(e,n(t,i),r)}).getSerialize=n;function n(e,t){var n=[],r=[];return null==t&&(t=function(e,t){return n[0]===t?"[Circular ~]":"[Circular ~."+r.slice(0,n.indexOf(t)).join(".")+"]"}),function(i,o){if(n.length>0){var s=n.indexOf(this);~s?n.splice(s+1):n.push(this),~s?r.splice(s,1/0,i):r.push(i),~n.indexOf(o)&&(o=t.call(this,i,o))}else n.push(o);return null==e?o:e.call(this,i,o)}}}(K,K.exports);let z=B(K.exports);function $(e,t,n,r){var i,o,s,a;let u=[];try{u=V.parse(null!=r?r:t)}catch(e){u=V.parse(Error())}let c={};t instanceof Error&&(t=t.message).cause&&(c={"exception.cause":t.cause});let l=Y(u);e({event:z(t),type:"window.onerror",url:window.location.href,source:null!=n?n:"",lineNumber:null!=(i=l[0])&&i.lineNumber?null==(o=l[0])?void 0:o.lineNumber:0,columnNumber:null!=(s=l[0])&&s.columnNumber?null==(a=l[0])?void 0:a.columnNumber:0,stackTrace:l,timestamp:new Date().toISOString(),payload:c?z(c):void 0})}let W=(e,{enablePromisePatch:t})=>{if("undefined"==typeof window)return()=>{};let n=window.onerror=(t,n,r,i,o)=>{$(e,t,n,o)},r=window.onunhandledrejection=t=>{if(t.reason){let n=t.promise;n.getStack?$(e,t.reason,t.type,n.getStack()):$(e,t.reason,t.type)}},i=window.Promise,o=class extends i{constructor(e){super(e),w(this,"promiseCreationError"),this.promiseCreationError=Error()}getStack(){return this.promiseCreationError}static shouldPatch(){let e=void 0===window.Zone;return t&&e}};return o.shouldPatch()&&(window.Promise=o),()=>{window.Promise=i,window.onunhandledrejection=r,window.onerror=n}},Y=e=>{var t,n;if(0===e.length)return e;let r=e[0];return null!=(t=r.fileName)&&t.includes("highlight.run")||null!=(n=r.fileName)&&n.includes("highlight.io")||"new highlightPromise"===r.functionName?e.slice(1):e},J=['["\\"Script error.\\""]','"Script error."','["\\"Load failed.\\""]','"Load failed."','["\\"Network request failed.\\""]','"Network request failed."','["\\"Document is not focused.\\""]','"Document is not focused."','["\\"Failed to fetch\\""]','"Failed to fetch"','[{"isTrusted":true}]','{"isTrusted":true}','["{}"]','"{}"','[""]','""','["\\"\\""]','""'],Q=["websocket error",'\\"ResizeObserver loop'];var Z="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof global?global:{},ee="1.9.0",et=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,en=function(e){var t=new Set([e]),n=new Set,r=e.match(et);if(!r)return function(){return!1};var i={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(null!=i.prerelease)return function(t){return t===e};function o(e){return n.add(e),!1}return function(e){if(t.has(e))return!0;if(n.has(e))return!1;var r=e.match(et);if(!r)return o(e);var s={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};return null!=s.prerelease||i.major!==s.major?o(e):0===i.major?i.minor===s.minor&&i.patch<=s.patch?(t.add(e),!0):o(e):i.minor<=s.minor?(t.add(e),!0):o(e)}}(ee),er=Symbol.for("opentelemetry.js.api."+ee.split(".")[0]);function ei(e,t,n,r){void 0===r&&(r=!1);var i,o=Z[er]=null!==(i=Z[er])&&void 0!==i?i:{version:ee};if(!r&&o[e]){var s=Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(s.stack||s.message),!1}if(o.version!==ee){var s=Error("@opentelemetry/api: Registration of version v"+o.version+" for "+e+" does not match previously registered API v"+ee);return n.error(s.stack||s.message),!1}return o[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+ee+"."),!0}function eo(e){var t,n,r=null===(t=Z[er])||void 0===t?void 0:t.version;if(!(!r||!en(r)))return null===(n=Z[er])||void 0===n?void 0:n[e]}function es(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+ee+".");var n=Z[er];n&&delete n[e]}var ea=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},eu=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},ec=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return el("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return el("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return el("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return el("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return el("verbose",this._namespace,e)},e}();function el(e,t,n){var r=eo("diag");if(r)return n.unshift(t),r[e].apply(r,eu([],ea(n),!1))}!function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(eO||(eO={}));var ep=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},ed=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},eh=function(){function e(){function e(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=eo("diag");if(r)return r[e].apply(r,ed([],ep(t),!1))}}var t=this;t.setLogger=function(e,n){if(void 0===n&&(n={logLevel:eO.INFO}),e===t){var r,i,o,s=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(r=s.stack)&&void 0!==r?r:s.message),!1}"number"==typeof n&&(n={logLevel:n});var a=eo("diag"),u=function(e,t){function n(n,r){var i=t[n];return"function"==typeof i&&e>=r?i.bind(t):function(){}}return e<eO.NONE?e=eO.NONE:e>eO.ALL&&(e=eO.ALL),t=t||{},{error:n("error",eO.ERROR),warn:n("warn",eO.WARN),info:n("info",eO.INFO),debug:n("debug",eO.DEBUG),verbose:n("verbose",eO.VERBOSE)}}(null!==(i=n.logLevel)&&void 0!==i?i:eO.INFO,e);if(a&&!n.suppressOverrideMessage){var c=null!==(o=Error().stack)&&void 0!==o?o:"<failed to generate stacktrace>";a.warn("Current logger will be overwritten from "+c),u.warn("Current logger will overwrite one already registered from "+c)}return ei("diag",u,t,!0)},t.disable=function(){es("diag",t)},t.createComponentLogger=function(e){return new ec(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),ef=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},e_=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},eE=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var t=ef(e,2);return[t[0],t[1]]})},e.prototype.setEntry=function(t,n){var r=new e(this._entries);return r._entries.set(t,n),r},e.prototype.removeEntry=function(t){var n=new e(this._entries);return n._entries.delete(t),n},e.prototype.removeEntries=function(){for(var t,n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=new e(this._entries);try{for(var s=e_(r),a=s.next();!a.done;a=s.next()){var u=a.value;o._entries.delete(u)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return o},e.prototype.clear=function(){return new e},e}(),eT=Symbol("BaggageEntryMetadata"),ey=eh.instance();function ev(e){return void 0===e&&(e={}),new eE(new Map(Object.entries(e)))}function eg(e){return"string"!=typeof e&&(ey.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:eT,toString:function(){return e}}}function em(e){return Symbol.for(e)}var eO,eS,eb=new function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(e){return n._currentContext.get(e)},n.setValue=function(t,r){var i=new e(n._currentContext);return i._currentContext.set(t,r),i},n.deleteValue=function(t){var r=new e(n._currentContext);return r._currentContext.delete(t),r}},eR=function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ew=function(){function e(){}return e.prototype.createGauge=function(e,t){return eB},e.prototype.createHistogram=function(e,t){return ej},e.prototype.createCounter=function(e,t){return eU},e.prototype.createUpDownCounter=function(e,t){return eF},e.prototype.createObservableGauge=function(e,t){return eV},e.prototype.createObservableCounter=function(e,t){return eH},e.prototype.createObservableUpDownCounter=function(e,t){return eX},e.prototype.addBatchObservableCallback=function(e,t){},e.prototype.removeBatchObservableCallback=function(e){},e}(),eL=function(){},eA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return eR(t,e),t.prototype.add=function(e,t){},t}(eL),eN=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return eR(t,e),t.prototype.add=function(e,t){},t}(eL),eC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return eR(t,e),t.prototype.record=function(e,t){},t}(eL),eI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return eR(t,e),t.prototype.record=function(e,t){},t}(eL),eP=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.removeCallback=function(e){},e}(),ek=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return eR(t,e),t}(eP),ex=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return eR(t,e),t}(eP),eD=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return eR(t,e),t}(eP),eM=new ew,eU=new eA,eB=new eC,ej=new eI,eF=new eN,eH=new ek,eV=new ex,eX=new eD,eG={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},eq={set:function(e,t,n){null!=e&&(e[t]=n)}},eK=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},ez=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},e$=function(){function e(){}return e.prototype.active=function(){return eb},e.prototype.with=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return t.call.apply(t,ez([n],eK(r),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),eW=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},eY=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},eJ="context",eQ=new e$,eZ=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return ei(eJ,e,eh.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return(r=this._getContextManager()).with.apply(r,eY([e,t,n],eW(i),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return eo(eJ)||eQ},e.prototype.disable=function(){this._getContextManager().disable(),es(eJ,eh.instance())},e}();!function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(eS||(eS={}));var e0="0000000000000000",e1="00000000000000000000000000000000",e2={traceId:e1,spanId:e0,traceFlags:eS.NONE},e3=function(){function e(e){void 0===e&&(e=e2),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.addLink=function(e){return this},e.prototype.addLinks=function(e){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}(),e4=em("OpenTelemetry Context Key SPAN");function e5(e){return e.getValue(e4)||void 0}function e6(){return e5(eZ.getInstance().active())}function e8(e,t){return e.setValue(e4,t)}function e9(e){return e.deleteValue(e4)}function e7(e,t){return e8(e,new e3(t))}function te(e){var t;return null===(t=e5(e))||void 0===t?void 0:t.spanContext()}var tt=/^([0-9a-f]{32})$/i,tn=/^[0-9a-f]{16}$/i;function tr(e){return tt.test(e)&&e!==e1}function ti(e){var t;return tr(e.traceId)&&(t=e.spanId,tn.test(t)&&t!==e0)}function to(e){return new e3(e)}var ts,ta=eZ.getInstance(),tu=function(){function e(){}return e.prototype.startSpan=function(e,t,n){if(void 0===n&&(n=ta.active()),null!=t&&t.root)return new e3;var r=n&&te(n);return"object"==typeof r&&"string"==typeof r.spanId&&"string"==typeof r.traceId&&"number"==typeof r.traceFlags&&ti(r)?new e3(r):new e3},e.prototype.startActiveSpan=function(e,t,n,r){var i,o,s;if(!(arguments.length<2)){2==arguments.length?s=t:3==arguments.length?(i=t,s=n):(i=t,o=n,s=r);var a=null!=o?o:ta.active(),u=this.startSpan(e,i,a),c=e8(a,u);return ta.with(c,s,void 0,u)}},e}(),tc=new tu,tl=function(){function e(e,t,n,r){this._provider=e,this.name=t,this.version=n,this.options=r}return e.prototype.startSpan=function(e,t,n){return this._getTracer().startSpan(e,t,n)},e.prototype.startActiveSpan=function(e,t,n,r){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):tc},e}(),tp=new(function(){function e(){}return e.prototype.getTracer=function(e,t,n){return new tu},e}()),td=function(){function e(){}return e.prototype.getTracer=function(e,t,n){var r;return null!==(r=this.getDelegateTracer(e,t,n))&&void 0!==r?r:new tl(this,e,t,n)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:tp},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,n){var r;return null===(r=this._delegate)||void 0===r?void 0:r.getTracer(e,t,n)},e}();!function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(ts||(ts={})),function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(tI||(tI={})),function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(tP||(tP={}));var th=eZ.getInstance(),tf=eh.instance(),t_=new(function(){function e(){}return e.prototype.getMeter=function(e,t,n){return eM},e}()),tE="metrics",tT=(function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(e){return ei(tE,e,eh.instance())},e.prototype.getMeterProvider=function(){return eo(tE)||t_},e.prototype.getMeter=function(e,t,n){return this.getMeterProvider().getMeter(e,t,n)},e.prototype.disable=function(){es(tE,eh.instance())},e})().getInstance(),ty=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}(),tv=em("OpenTelemetry Baggage Key");function tg(e){return e.getValue(tv)||void 0}function tm(){return tg(eZ.getInstance().active())}function tO(e,t){return e.setValue(tv,t)}function tS(e){return e.deleteValue(tv)}var tb="propagation",tR=new ty,tw=(function(){function e(){this.createBaggage=ev,this.getBaggage=tg,this.getActiveBaggage=tm,this.setBaggage=tO,this.deleteBaggage=tS}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return ei(tb,e,eh.instance())},e.prototype.inject=function(e,t,n){return void 0===n&&(n=eq),this._getGlobalPropagator().inject(e,t,n)},e.prototype.extract=function(e,t,n){return void 0===n&&(n=eG),this._getGlobalPropagator().extract(e,t,n)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){es(tb,eh.instance())},e.prototype._getGlobalPropagator=function(){return eo(tb)||tR},e})().getInstance(),tL="trace",tA=(function(){function e(){this._proxyTracerProvider=new td,this.wrapSpanContext=to,this.isSpanContextValid=ti,this.deleteSpan=e9,this.getSpan=e5,this.getActiveSpan=e6,this.getSpanContext=te,this.setSpan=e8,this.setSpanContext=e7}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=ei(tL,this._proxyTracerProvider,eh.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return eo(tL)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){es(tL,eh.instance()),this._proxyTracerProvider=new td},e})().getInstance(),tN=em("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function tC(e){return!0===e.getValue(tN)}var tI,tP,tk,tx="baggage",tD=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},tM=function(){function e(){}return e.prototype.inject=function(e,t,n){var r=tw.getBaggage(e);if(!(!r||tC(e))){var i=r.getAllEntries().map(function(e){var t=tD(e,2),n=t[0],r=t[1],i=encodeURIComponent(n)+"="+encodeURIComponent(r.value);return void 0!==r.metadata&&(i+=";"+r.metadata.toString()),i}).filter(function(e){return e.length<=4096}).slice(0,180).reduce(function(e,t){var n=""+e+(""!==e?",":"")+t;return n.length>8192?e:n},"");i.length>0&&n.set(t,tx,i)}},e.prototype.extract=function(e,t,n){var r=n.get(t,tx),i=Array.isArray(r)?r.join(","):r;if(!i)return e;var o={};return 0===i.length?e:(i.split(",").forEach(function(e){var t=function(e){var t=e.split(";");if(!(t.length<=0)){var n=t.shift();if(n){var r=n.indexOf("=");if(!(r<=0)){var i,o=decodeURIComponent(n.substring(0,r).trim()),s=decodeURIComponent(n.substring(r+1).trim());return t.length>0&&(i=eg(t.join(";"))),{key:o,value:s,metadata:i}}}}}(e);if(t){var n={value:t.value};t.metadata&&(n.metadata=t.metadata),o[t.key]=n}}),0===Object.entries(o).length?e:tw.setBaggage(e,tw.createBaggage(o)))},e.prototype.fields=function(){return[tx]},e}(),tU=performance,tB="exception.type",tj="exception.message",tF="http.method",tH="http.url",tV="http.host",tX="http.scheme",tG="http.status_code",tq="http.user_agent",tK="process.runtime.name",tz="service.name",t$="telemetry.sdk.name",tW="telemetry.sdk.language",tY="telemetry.sdk.version",tJ="webjs",tQ=((tk={})[t$]="opentelemetry",tk[tK]="browser",tk[tW]=tJ,tk[tY]="1.27.0",tk);function tZ(e){return[Math.trunc(e/1e3),Math.round(e%1e3*1e6)]}var t0=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},t1=function(){function e(e){var t;void 0===e&&(e={}),this._propagators=null!==(t=e.propagators)&&void 0!==t?t:[],this._fields=Array.from(new Set(this._propagators.map(function(e){return"function"==typeof e.fields?e.fields():[]}).reduce(function(e,t){return e.concat(t)},[])))}return e.prototype.inject=function(e,t,n){var r,i;try{for(var o=t0(this._propagators),s=o.next();!s.done;s=o.next()){var a=s.value;try{a.inject(e,t,n)}catch(e){tf.warn("Failed to inject with "+a.constructor.name+". Err: "+e.message)}}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},e.prototype.extract=function(e,t,n){return this._propagators.reduce(function(e,r){try{return r.extract(e,t,n)}catch(e){tf.warn("Failed to extract with "+r.constructor.name+". Err: "+e.message)}return e},e)},e.prototype.fields=function(){return this._fields.slice()},e}(),t2="[_0-9a-z-*/]",t3=RegExp("^(?:[a-z]"+t2+"{0,255}|"+("[a-z0-9]"+t2)+"{0,240}@[a-z]"+t2+"{0,13})$"),t4=/^[ -~]{0,255}[!-~]$/,t5=/,|=/,t6=function(){function e(e){this._internalState=new Map,e&&this._parse(e)}return e.prototype.set=function(e,t){var n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n},e.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},e.prototype.get=function(e){return this._internalState.get(e)},e.prototype.serialize=function(){var e=this;return this._keys().reduce(function(t,n){return t.push(n+"="+e.get(n)),t},[]).join(",")},e.prototype._parse=function(e){e.length>512||(this._internalState=e.split(",").reverse().reduce(function(e,t){var n=t.trim(),r=n.indexOf("=");if(-1!==r){var i=n.slice(0,r),o=n.slice(r+1,t.length);t3.test(i)&&t4.test(o)&&!t5.test(o)&&e.set(i,o)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}(),t8="traceparent",t9="tracestate",t7=RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$"),ne=function(){function e(){}return e.prototype.inject=function(e,t,n){var r=tA.getSpanContext(e);if(!(!r||tC(e)||!ti(r))){var i="00-"+r.traceId+"-"+r.spanId+"-0"+Number(r.traceFlags||eS.NONE).toString(16);n.set(t,t8,i),r.traceState&&n.set(t,t9,r.traceState.serialize())}},e.prototype.extract=function(e,t,n){var r,i=n.get(t,t8);if(!i)return e;var o=Array.isArray(i)?i[0]:i;if("string"!=typeof o)return e;var s=(r=t7.exec(o))&&("00"!==r[1]||!r[5])?{traceId:r[2],spanId:r[3],traceFlags:parseInt(r[4],16)}:null;if(!s)return e;s.isRemote=!0;var a=n.get(t,t9);if(a){var u=Array.isArray(a)?a.join(","):a;s.traceState=new t6("string"==typeof u?u:void 0)}return tA.setSpanContext(e,s)},e.prototype.fields=function(){return[t8,t9]},e}(),nt=function(){function e(){}return e.prototype.emit=function(e){},e}(),nn=new(function(){function e(){}return e.prototype.getLogger=function(e,t,n){return new nt},e}()),nr="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof global?global:{},ni=Symbol.for("io.opentelemetry.js.api.logs"),no=(function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalLoggerProvider=function(e){return nr[ni]?this.getLoggerProvider():(nr[ni]=function(t){return 1===t?e:nn},e)},e.prototype.getLoggerProvider=function(){var e,t;return null!==(t=null===(e=nr[ni])||void 0===e?void 0:e.call(nr,1))&&void 0!==t?t:nn},e.prototype.getLogger=function(e,t,n){return this.getLoggerProvider().getLogger(e,t,n)},e.prototype.disable=function(){delete nr[ni]},e})().getInstance();function ns(e){return"function"==typeof e}var na=console.error.bind(console);function nu(e,t,n){var r=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:r,writable:!0,value:n})}function nc(e){e&&e.logger&&(ns(e.logger)?na=e.logger:na("new logger isn't a function, not replacing"))}function nl(e,t,n){if(!e||!e[t]){na("no original function "+t+" to wrap");return}if(!n){na("no wrapper function"),na(Error().stack);return}if(!ns(e[t])||!ns(n)){na("original object and wrapper must be functions");return}var r=e[t],i=n(r,t);return nu(i,"__original",r),nu(i,"__unwrap",function(){e[t]===i&&nu(e,t,r)}),nu(i,"__wrapped",!0),nu(e,t,i),i}function np(e,t){if(!e||!e[t]){na("no function to unwrap."),na(Error().stack);return}if(e[t].__unwrap)return e[t].__unwrap();na("no original to unwrap to -- has "+t+" already been unwrapped?")}nc.wrap=nl,nc.massWrap=function(e,t,n){if(e)Array.isArray(e)||(e=[e]);else{na("must provide one or more modules to patch"),na(Error().stack);return}if(!(t&&Array.isArray(t))){na("must provide one or more functions to wrap on modules");return}e.forEach(function(e){t.forEach(function(t){nl(e,t,n)})})},nc.unwrap=np,nc.massUnwrap=function(e,t){if(e)Array.isArray(e)||(e=[e]);else{na("must provide one or more modules to patch"),na(Error().stack);return}if(!(t&&Array.isArray(t))){na("must provide one or more functions to unwrap on modules");return}e.forEach(function(e){t.forEach(function(t){np(e,t)})})};var nd=function(){return(nd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},nh=function(){function e(e,t,n){this.instrumentationName=e,this.instrumentationVersion=t,this._config={},this._wrap=nc.wrap,this._unwrap=nc.unwrap,this._massWrap=nc.massWrap,this._massUnwrap=nc.massUnwrap,this.setConfig(n),this._diag=tf.createComponentLogger({namespace:e}),this._tracer=tA.getTracer(e,t),this._meter=tT.getMeter(e,t),this._logger=no.getLogger(e,t),this._updateMetricInstruments()}return Object.defineProperty(e.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),e.prototype.setMeterProvider=function(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e.prototype.setLoggerProvider=function(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)},e.prototype.getModuleDefinitions=function(){var e,t=null!==(e=this.init())&&void 0!==e?e:[];return Array.isArray(t)?t:[t]},e.prototype._updateMetricInstruments=function(){},e.prototype.getConfig=function(){return this._config},e.prototype.setConfig=function(e){this._config=nd({enabled:!0},e)},e.prototype.setTracerProvider=function(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(e.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),e.prototype._runSpanCustomizationHook=function(e,t,n,r){if(e)try{e(n,r)}catch(e){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:t},e)}},e}(),nf=function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),n_=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i._config.enabled&&i.enable(),i}return nf(t,e),t}(nh);function nE(e,t,n){var r,i;try{i=e()}catch(e){r=e}finally{if(t(r,i),r&&!n)throw r;return i}}function nT(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}var ny=em("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function nv(e){return!0===e.getValue(ny)}var ng="baggage",nm=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},nO=function(){function e(){}return e.prototype.inject=function(e,t,n){var r=tw.getBaggage(e);if(!(!r||nv(e))){var i=r.getAllEntries().map(function(e){var t=nm(e,2),n=t[0],r=t[1],i=encodeURIComponent(n)+"="+encodeURIComponent(r.value);return void 0!==r.metadata&&(i+=";"+r.metadata.toString()),i}).filter(function(e){return e.length<=4096}).slice(0,180).reduce(function(e,t){var n=""+e+(""!==e?",":"")+t;return n.length>8192?e:n},"");i.length>0&&n.set(t,ng,i)}},e.prototype.extract=function(e,t,n){var r=n.get(t,ng),i=Array.isArray(r)?r.join(","):r;if(!i)return e;var o={};return 0===i.length?e:(i.split(",").forEach(function(e){var t=function(e){var t=e.split(";");if(!(t.length<=0)){var n=t.shift();if(n){var r=n.indexOf("=");if(!(r<=0)){var i,o=decodeURIComponent(n.substring(0,r).trim()),s=decodeURIComponent(n.substring(r+1).trim());return t.length>0&&(i=eg(t.join(";"))),{key:o,value:s,metadata:i}}}}}(e);if(t){var n={value:t.value};t.metadata&&(n.metadata=t.metadata),o[t.key]=n}}),0===Object.entries(o).length?e:tw.setBaggage(e,tw.createBaggage(o)))},e.prototype.fields=function(){return[ng]},e}(),nS=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},nb=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s};function nR(e){var t,n,r={};if("object"!=typeof e||null==e)return r;try{for(var i=nS(Object.entries(e)),o=i.next();!o.done;o=i.next()){var s=nb(o.value,2),a=s[0],u=s[1];if("string"!=typeof a||!(a.length>0)){tf.warn("Invalid attribute key: "+a);continue}if(!nw(u)){tf.warn("Invalid attribute value set for key: "+a);continue}Array.isArray(u)?r[a]=u.slice():r[a]=u}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function nw(e){return null==e||(Array.isArray(e)?function(e){var t,n,r;try{for(var i=nS(e),o=i.next();!o.done;o=i.next()){var s=o.value;if(null!=s){if(!r){if(nL(s)){r=typeof s;continue}return!1}if(typeof s!==r)return!1}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return!0}(e):nL(e))}function nL(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}var nA=function(e){tf.error("string"==typeof e?e:JSON.stringify(function(e){for(var t={},n=e;null!==n;)Object.getOwnPropertyNames(n).forEach(function(e){if(!t[e]){var r=n[e];r&&(t[e]=String(r))}}),n=Object.getPrototypeOf(n);return t}(e)))};function nN(e){try{nA(e)}catch(e){}}!function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"}(nj||(nj={}));var nC=["OTEL_SDK_DISABLED"],nI=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"],nP=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"],nk=1/0,nx={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:eO.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:nk,OTEL_ATTRIBUTE_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:nk,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:128,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:nk,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:128,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:nj.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"},nD={ALL:eO.ALL,VERBOSE:eO.VERBOSE,DEBUG:eO.DEBUG,INFO:eO.INFO,WARN:eO.WARN,ERROR:eO.ERROR,NONE:eO.NONE};function nM(e){var t={};for(var n in nx)if("OTEL_LOG_LEVEL"===n)!function(e,t,n){var r=n[e];if("string"==typeof r){var i=nD[r.toUpperCase()];null!=i&&(t[e]=i)}}(n,t,e);else if(nC.indexOf(n)>-1)!function(e,t,n){if(void 0!==n[e]){var r=String(n[e]);t[e]="true"===r.toLowerCase()}}(n,t,e);else if(nI.indexOf(n)>-1)!function(e,t,n,r,i){if(void 0===r&&(r=-1/0),void 0===i&&(i=1/0),void 0!==n[e]){var o=Number(n[e]);isNaN(o)||(o<r?t[e]=r:o>i?t[e]=i:t[e]=o)}}(n,t,e);else if(nP.indexOf(n)>-1)!function(e,t,n,r){void 0===r&&(r=",");var i=n[e];"string"==typeof i&&(t[e]=i.split(r).map(function(e){return e.trim()}))}(n,t,e);else{var r=e[n];null!=r&&(t[n]=String(r))}return t}var nU="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof global?global:{};function nB(){return Object.assign({},nx,nM(nU))}var nj,nF,nH=performance,nV=((nF={})[t$]="opentelemetry",nF[tK]="browser",nF[tW]=tJ,nF[tY]="1.26.0",nF);function nX(e){return[Math.trunc(e/1e3),Math.round(e%1e3*1e6)]}function nG(){var e=nH.timeOrigin;return"number"!=typeof e&&(e=nH.timing&&nH.timing.fetchStart),e}function nq(e){return nY(nX(nG()),nX("number"==typeof e?e:nH.now()))}function nK(e){if(n$(e))return e;if("number"==typeof e)return e<nG()?nq(e):nX(e);if(e instanceof Date)return nX(e.getTime());throw TypeError("Invalid input type")}function nz(e){return 1e9*e[0]+e[1]}function n$(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}function nW(e){return n$(e)||"number"==typeof e||e instanceof Date}function nY(e,t){var n=[e[0]+t[0],e[1]+t[1]];return n[1]>=1e9&&(n[1]-=1e9,n[0]+=1),n}!function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"}(rf||(rf={}));var nJ=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},nQ=function(){function e(e){var t;void 0===e&&(e={}),this._propagators=null!==(t=e.propagators)&&void 0!==t?t:[],this._fields=Array.from(new Set(this._propagators.map(function(e){return"function"==typeof e.fields?e.fields():[]}).reduce(function(e,t){return e.concat(t)},[])))}return e.prototype.inject=function(e,t,n){var r,i;try{for(var o=nJ(this._propagators),s=o.next();!s.done;s=o.next()){var a=s.value;try{a.inject(e,t,n)}catch(e){tf.warn("Failed to inject with "+a.constructor.name+". Err: "+e.message)}}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},e.prototype.extract=function(e,t,n){return this._propagators.reduce(function(e,r){try{return r.extract(e,t,n)}catch(e){tf.warn("Failed to inject with "+r.constructor.name+". Err: "+e.message)}return e},e)},e.prototype.fields=function(){return this._fields.slice()},e}(),nZ="[_0-9a-z-*/]",n0=RegExp("^(?:[a-z]"+nZ+"{0,255}|"+("[a-z0-9]"+nZ)+"{0,240}@[a-z]"+nZ+"{0,13})$"),n1=/^[ -~]{0,255}[!-~]$/,n2=/,|=/,n3=function(){function e(e){this._internalState=new Map,e&&this._parse(e)}return e.prototype.set=function(e,t){var n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n},e.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},e.prototype.get=function(e){return this._internalState.get(e)},e.prototype.serialize=function(){var e=this;return this._keys().reduce(function(t,n){return t.push(n+"="+e.get(n)),t},[]).join(",")},e.prototype._parse=function(e){e.length>512||(this._internalState=e.split(",").reverse().reduce(function(e,t){var n=t.trim(),r=n.indexOf("=");if(-1!==r){var i=n.slice(0,r),o=n.slice(r+1,t.length);n0.test(i)&&n1.test(o)&&!n2.test(o)&&e.set(i,o)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}(),n4="traceparent",n5="tracestate",n6=RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$"),n8=function(){function e(){}return e.prototype.inject=function(e,t,n){var r=tA.getSpanContext(e);if(!(!r||nv(e)||!ti(r))){var i="00-"+r.traceId+"-"+r.spanId+"-0"+Number(r.traceFlags||eS.NONE).toString(16);n.set(t,n4,i),r.traceState&&n.set(t,n5,r.traceState.serialize())}},e.prototype.extract=function(e,t,n){var r,i=n.get(t,n4);if(!i)return e;var o=Array.isArray(i)?i[0]:i;if("string"!=typeof o)return e;var s=(r=n6.exec(o))&&("00"!==r[1]||!r[5])?{traceId:r[2],spanId:r[3],traceFlags:parseInt(r[4],16)}:null;if(!s)return e;s.isRemote=!0;var a=n.get(t,n5);if(a){var u=Array.isArray(a)?a.join(","):a;s.traceState=new n3("string"==typeof u?u:void 0)}return tA.setSpanContext(e,s)},e.prototype.fields=function(){return[n4,n5]},e}(),n9=Function.prototype.toString,n7=n9.call(Object),re=(rd=Object.getPrototypeOf,rh=Object,function(e){return rd(rh(e))}),rt=Object.prototype,rn=rt.hasOwnProperty,rr=Symbol?Symbol.toStringTag:void 0,ri=rt.toString;function ro(e){if(!(null!=e&&"object"==typeof e)||"[object Object]"!==(null==e?void 0===e?"[object Undefined]":"[object Null]":rr&&rr in Object(e)?function(e){var t=rn.call(e,rr),n=e[rr],r=!1;try{e[rr]=void 0,r=!0}catch(e){}var i=ri.call(e);return r&&(t?e[rr]=n:delete e[rr]),i}(e):ri.call(e)))return!1;var t=re(e);if(null===t)return!0;var n=rn.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&n9.call(n)===n7}function rs(e){return ru(e)?e.slice():e}function ra(e,t,n){for(var r=n.get(e[t])||[],i=0,o=r.length;i<o;i++){var s=r[i];if(s.key===t&&s.obj===e)return!0}return!1}function ru(e){return Array.isArray(e)}function rc(e){return"function"==typeof e}function rl(e){return!rp(e)&&!ru(e)&&!rc(e)&&"object"==typeof e}function rp(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||void 0===e||e instanceof Date||e instanceof RegExp||null===e}var rd,rh,rf,r_,rE=function(){function e(){var e=this;this._promise=new Promise(function(t,n){e._resolve=t,e._reject=n})}return Object.defineProperty(e.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),e.prototype.resolve=function(e){this._resolve(e)},e.prototype.reject=function(e){this._reject(e)},e}(),rT=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},ry=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},rv=function(){function e(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new rE}return Object.defineProperty(e.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),e.prototype.call=function(){for(var e,t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((e=this._callback).call.apply(e,ry([this._that],rT(n),!1))).then(function(e){return t._deferred.resolve(e)},function(e){return t._deferred.reject(e)})}catch(e){this._deferred.reject(e)}}return this._deferred.promise},e}(),rg=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},rm=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},rO=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},rS=function(){function e(e,t,n,r,i,o,s,a,u,c){void 0===s&&(s=[]),this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:tP.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=n,this._spanContext=r,this.parentSpanId=o,this.kind=i,this.links=s;var l=Date.now();this._performanceStartTime=nH.now(),this._performanceOffset=l-(this._performanceStartTime+nG()),this._startTimeProvided=null!=a,this.startTime=this._getTime(null!=a?a:l),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,null!=c&&this.setAttributes(c),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,t)}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return null==t||this._isSpanEnded()||(0===e.length?tf.warn("Invalid attribute key: "+e):nw(t)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?this._droppedAttributesCount++:this.attributes[e]=this._truncateToSize(t):tf.warn("Invalid attribute value set for key: "+e)),this},e.prototype.setAttributes=function(e){var t,n;try{for(var r=rg(Object.entries(e)),i=r.next();!i.done;i=r.next()){var o=rm(i.value,2),s=o[0],a=o[1];this.setAttribute(s,a)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return this},e.prototype.addEvent=function(e,t,n){if(this._isSpanEnded())return this;if(0===this._spanLimits.eventCountLimit)return tf.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(0===this._droppedEventsCount&&tf.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),nW(t)&&(nW(n)||(n=t),t=void 0);var r=nR(t);return this.events.push({name:e,attributes:r,time:this._getTime(n),droppedAttributesCount:0}),this},e.prototype.addLink=function(e){return this.links.push(e),this},e.prototype.addLinks=function(e){var t;return(t=this.links).push.apply(t,rO([],rm(e),!1)),this},e.prototype.setStatus=function(e){return this._isSpanEnded()||(this.status=e),this},e.prototype.updateName=function(e){return this._isSpanEnded()||(this.name=e),this},e.prototype.end=function(e){var t,n,r,i;if(this._isSpanEnded()){tf.error(this.name+" "+this._spanContext.traceId+"-"+this._spanContext.spanId+" - You can only call end() on a span once.");return}this._ended=!0,this.endTime=this._getTime(e),this._duration=(t=this.startTime,r=(n=this.endTime)[0]-t[0],(i=n[1]-t[1])<0&&(r-=1,i+=1e9),[r,i]),this._duration[0]<0&&(tf.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&tf.warn("Dropped "+this._droppedEventsCount+" events because eventCountLimit reached"),this._spanProcessor.onEnd(this)},e.prototype._getTime=function(e){if("number"==typeof e&&e<nH.now())return nq(e+this._performanceOffset);if("number"==typeof e)return nX(e);if(e instanceof Date)return nX(e.getTime());if(n$(e))return e;if(this._startTimeProvided)return nX(Date.now());var t=nH.now()-this._performanceStartTime;return nY(this.startTime,nX(t))},e.prototype.isRecording=function(){return!1===this._ended},e.prototype.recordException=function(e,t){var n={};"string"==typeof e?n[tj]=e:e&&(e.code?n[tB]=e.code.toString():e.name&&(n[tB]=e.name),e.message&&(n[tj]=e.message),e.stack&&(n["exception.stacktrace"]=e.stack)),n[tB]||n[tj]?this.addEvent("exception",n,t):tf.warn("Failed to record an exception "+e)},Object.defineProperty(e.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedAttributesCount",{get:function(){return this._droppedAttributesCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedEventsCount",{get:function(){return this._droppedEventsCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedLinksCount",{get:function(){return this._droppedLinksCount},enumerable:!1,configurable:!0}),e.prototype._isSpanEnded=function(){return this._ended&&tf.warn("Can not execute the operation on ended Span {traceId: "+this._spanContext.traceId+", spanId: "+this._spanContext.spanId+"}"),this._ended},e.prototype._truncateToLimitUtil=function(e,t){return e.length<=t?e:e.substr(0,t)},e.prototype._truncateToSize=function(e){var t=this,n=this._attributeValueLengthLimit;return n<=0?(tf.warn("Attribute value limit must be positive, got "+n),e):"string"==typeof e?this._truncateToLimitUtil(e,n):Array.isArray(e)?e.map(function(e){return"string"==typeof e?t._truncateToLimitUtil(e,n):e}):e},e}();!function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(r_||(r_={}));var rb=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:r_.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}(),rR=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:r_.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}(),rw=function(){function e(e){var t,n,r,i;this._root=e.root,this._root||(nN(Error("ParentBasedSampler must have a root sampler configured")),this._root=new rR),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new rR,this._remoteParentNotSampled=null!==(n=e.remoteParentNotSampled)&&void 0!==n?n:new rb,this._localParentSampled=null!==(r=e.localParentSampled)&&void 0!==r?r:new rR,this._localParentNotSampled=null!==(i=e.localParentNotSampled)&&void 0!==i?i:new rb}return e.prototype.shouldSample=function(e,t,n,r,i,o){var s=tA.getSpanContext(e);return s&&ti(s)?s.isRemote?s.traceFlags&eS.SAMPLED?this._remoteParentSampled.shouldSample(e,t,n,r,i,o):this._remoteParentNotSampled.shouldSample(e,t,n,r,i,o):s.traceFlags&eS.SAMPLED?this._localParentSampled.shouldSample(e,t,n,r,i,o):this._localParentNotSampled.shouldSample(e,t,n,r,i,o):this._root.shouldSample(e,t,n,r,i,o)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}(),rL=function(){function e(e){void 0===e&&(e=0),this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(0xffffffff*this._ratio)}return e.prototype.shouldSample=function(e,t){return{decision:tr(t)&&this._accumulate(t)<this._upperBound?r_.RECORD_AND_SAMPLED:r_.NOT_RECORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e},e.prototype._accumulate=function(e){for(var t=0,n=0;n<e.length/8;n++){var r=8*n;t=(t^parseInt(e.slice(r,r+8),16))>>>0}return t},e}(),rA=nB(),rN=nj.AlwaysOn;function rC(){var e=nB();return{sampler:rI(rA),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:e.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:e.OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:e.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:e.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:e.OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:e.OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:e.OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:e.OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}}function rI(e){switch(void 0===e&&(e=nB()),e.OTEL_TRACES_SAMPLER){case nj.AlwaysOn:return new rR;case nj.AlwaysOff:return new rb;case nj.ParentBasedAlwaysOn:return new rw({root:new rR});case nj.ParentBasedAlwaysOff:return new rw({root:new rb});case nj.TraceIdRatio:return new rL(rP(e));case nj.ParentBasedTraceIdRatio:return new rw({root:new rL(rP(e))});default:return tf.error('OTEL_TRACES_SAMPLER value "'+e.OTEL_TRACES_SAMPLER+" invalid, defaulting to "+rN+'".'),new rR}}function rP(e){if(void 0===e.OTEL_TRACES_SAMPLER_ARG||""===e.OTEL_TRACES_SAMPLER_ARG)return tf.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to 1."),1;var t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(tf.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is invalid, defaulting to 1."),1):t<0||t>1?(tf.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is out of range ([0..1]), defaulting to 1."),1):t}var rk=function(){function e(e,t){this._exporter=e,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;var n=nB();this._maxExportBatchSize="number"==typeof(null==t?void 0:t.maxExportBatchSize)?t.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize="number"==typeof(null==t?void 0:t.maxQueueSize)?t.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis="number"==typeof(null==t?void 0:t.scheduledDelayMillis)?t.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis="number"==typeof(null==t?void 0:t.exportTimeoutMillis)?t.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new rv(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(tf.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return e.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},e.prototype.onStart=function(e,t){},e.prototype.onEnd=function(e){this._shutdownOnce.isCalled||e.spanContext().traceFlags&eS.SAMPLED&&this._addToBuffer(e)},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){var e=this;return Promise.resolve().then(function(){return e.onShutdown()}).then(function(){return e._flushAll()}).then(function(){return e._exporter.shutdown()})},e.prototype._addToBuffer=function(e){if(this._finishedSpans.length>=this._maxQueueSize){0===this._droppedSpansCount&&tf.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(tf.warn("Dropped "+this._droppedSpansCount+" spans because maxQueueSize reached"),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer()},e.prototype._flushAll=function(){var e=this;return new Promise(function(t,n){for(var r=[],i=Math.ceil(e._finishedSpans.length/e._maxExportBatchSize),o=0;o<i;o++)r.push(e._flushOneBatch());Promise.all(r).then(function(){t()}).catch(n)})},e.prototype._flushOneBatch=function(){var e=this;return this._clearTimer(),0===this._finishedSpans.length?Promise.resolve():new Promise(function(t,n){var r=setTimeout(function(){n(Error("Timeout"))},e._exportTimeoutMillis);th.with(th.active().setValue(ny,!0),function(){var i;e._finishedSpans.length<=e._maxExportBatchSize?(i=e._finishedSpans,e._finishedSpans=[]):i=e._finishedSpans.splice(0,e._maxExportBatchSize);for(var o=function(){return e._exporter.export(i,function(e){var i;clearTimeout(r),e.code===rf.SUCCESS?t():n(null!==(i=e.error)&&void 0!==i?i:Error("BatchSpanProcessor: span export failed"))})},s=null,a=0,u=i.length;a<u;a++){var c=i[a];c.resource.asyncAttributesPending&&c.resource.waitForAsyncAttributes&&(null!=s||(s=[]),s.push(c.resource.waitForAsyncAttributes()))}null===s?o():Promise.all(s).then(o,function(e){nN(e),n(e)})})})},e.prototype._maybeStartTimer=function(){var e=this;if(!this._isExporting){var t=function(){e._isExporting=!0,e._flushOneBatch().finally(function(){e._isExporting=!1,e._finishedSpans.length>0&&(e._clearTimer(),e._maybeStartTimer())}).catch(function(t){e._isExporting=!1,nN(t)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return t();void 0===this._timer&&(this._timer=setTimeout(function(){return t()},this._scheduledDelayMillis))}},e.prototype._clearTimer=function(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)},e}(),rx=function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rD=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.onInit(n),r}return rx(t,e),t.prototype.onInit=function(e){var t=this;(null==e?void 0:e.disableAutoFlushOnDocumentHide)!==!0&&"undefined"!=typeof document&&(this._visibilityChangeListener=function(){"hidden"===document.visibilityState&&t.forceFlush()},this._pageHideListener=function(){t.forceFlush()},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))},t.prototype.onShutdown=function(){"undefined"!=typeof document&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))},t}(rk),rM=function(){this.generateTraceId=rB(16),this.generateSpanId=rB(8)},rU=Array(32);function rB(e){return function(){for(var t=0;t<2*e;t++)rU[t]=Math.floor(16*Math.random())+48,rU[t]>=58&&(rU[t]+=39);return String.fromCharCode.apply(null,rU.slice(0,2*e))}}var rj,rF=function(){function e(e,t,n){this._tracerProvider=n;var r,i,o,s=(r={sampler:rI()},(o=Object.assign({},i=rC(),r,t)).generalLimits=Object.assign({},i.generalLimits,t.generalLimits||{}),o.spanLimits=Object.assign({},i.spanLimits,t.spanLimits||{}),o);this._sampler=s.sampler,this._generalLimits=s.generalLimits,this._spanLimits=s.spanLimits,this._idGenerator=t.idGenerator||new rM,this.resource=n.resource,this.instrumentationLibrary=e}return e.prototype.startSpan=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n=th.active()),t.root&&(n=tA.deleteSpan(n));var r=tA.getSpan(n);if(nv(n)){tf.debug("Instrumentation suppressed, returning Noop Span");var i=tA.wrapSpanContext(e2);return i}var o,s,a,u,c,l,p=null==r?void 0:r.spanContext(),d=this._idGenerator.generateSpanId();p&&tA.isSpanContextValid(p)?(u=p.traceId,c=p.traceState,l=p.spanId):u=this._idGenerator.generateTraceId();var h=null!==(o=t.kind)&&void 0!==o?o:tI.INTERNAL,f=(null!==(s=t.links)&&void 0!==s?s:[]).map(function(e){return{context:e.context,attributes:nR(e.attributes)}}),_=nR(t.attributes),E=this._sampler.shouldSample(n,u,e,h,_,f);c=null!==(a=E.traceState)&&void 0!==a?a:c;var T={traceId:u,spanId:d,traceFlags:E.decision===ts.RECORD_AND_SAMPLED?eS.SAMPLED:eS.NONE,traceState:c};if(E.decision===ts.NOT_RECORD){tf.debug("Recording is off, propagating context in a non-recording span");var i=tA.wrapSpanContext(T);return i}var y=nR(Object.assign(_,E.attributes));return new rS(this,n,e,T,h,l,f,t.startTime,void 0,y)},e.prototype.startActiveSpan=function(e,t,n,r){var i,o,s;if(!(arguments.length<2)){2==arguments.length?s=t:3==arguments.length?(i=t,s=n):(i=t,o=n,s=r);var a=null!=o?o:th.active(),u=this.startSpan(e,i,a),c=tA.setSpan(a,u);return th.with(c,s,void 0,u)}},e.prototype.getGeneralLimits=function(){return this._generalLimits},e.prototype.getSpanLimits=function(){return this._spanLimits},e.prototype.getActiveSpanProcessor=function(){return this._tracerProvider.getActiveSpanProcessor()},e}(),rH=function(){return(rH=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},rV=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},rX=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},rG=function(){function e(e,t){var n,r=this;this._attributes=e,this.asyncAttributesPending=null!=t,this._syncAttributes=null!==(n=this._attributes)&&void 0!==n?n:{},this._asyncAttributesPromise=null==t?void 0:t.then(function(e){return r._attributes=Object.assign({},r._attributes,e),r.asyncAttributesPending=!1,e},function(e){return tf.debug("a resource's async attributes promise rejected: %s",e),r.asyncAttributesPending=!1,{}})}return e.empty=function(){return e.EMPTY},e.default=function(){var t;return new e(((t={})[tz]="unknown_service",t[tW]=nV[tW],t[t$]=nV[t$],t[tY]=nV[tY],t))},Object.defineProperty(e.prototype,"attributes",{get:function(){var e;return this.asyncAttributesPending&&tf.error("Accessing resource attributes before async attributes settled"),null!==(e=this._attributes)&&void 0!==e?e:{}},enumerable:!1,configurable:!0}),e.prototype.waitForAsyncAttributes=function(){var e,t,n,r;return e=this,t=void 0,n=void 0,r=function(){return rV(this,function(e){switch(e.label){case 0:return this.asyncAttributesPending?[4,this._asyncAttributesPromise]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},e.prototype.merge=function(t){var n,r=this;if(!t)return this;var i=rH(rH({},this._syncAttributes),null!==(n=t._syncAttributes)&&void 0!==n?n:t.attributes);return this._asyncAttributesPromise||t._asyncAttributesPromise?new e(i,Promise.all([this._asyncAttributesPromise,t._asyncAttributesPromise]).then(function(e){var n,i=rX(e,2),o=i[0],s=i[1];return rH(rH(rH(rH({},r._syncAttributes),o),null!==(n=t._syncAttributes)&&void 0!==n?n:t.attributes),s)})):new e(i)},e.EMPTY=new e({}),e}(),rq=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},rK=function(){function e(e){this._spanProcessors=e}return e.prototype.forceFlush=function(){var e,t,n=[];try{for(var r=rq(this._spanProcessors),i=r.next();!i.done;i=r.next()){var o=i.value;n.push(o.forceFlush())}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return new Promise(function(e){Promise.all(n).then(function(){e()}).catch(function(t){nN(t||Error("MultiSpanProcessor: forceFlush failed")),e()})})},e.prototype.onStart=function(e,t){var n,r;try{for(var i=rq(this._spanProcessors),o=i.next();!o.done;o=i.next())o.value.onStart(e,t)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.onEnd=function(e){var t,n;try{for(var r=rq(this._spanProcessors),i=r.next();!i.done;i=r.next())i.value.onEnd(e)}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.shutdown=function(){var e,t,n=[];try{for(var r=rq(this._spanProcessors),i=r.next();!i.done;i=r.next()){var o=i.value;n.push(o.shutdown())}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return new Promise(function(e,t){Promise.all(n).then(function(){e()},t)})},e}(),rz=function(){function e(){}return e.prototype.onStart=function(e,t){},e.prototype.onEnd=function(e){},e.prototype.shutdown=function(){return Promise.resolve()},e.prototype.forceFlush=function(){return Promise.resolve()},e}();!function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"}(rj||(rj={}));var r$,rW=function(){function e(e){void 0===e&&(e={}),this._registeredSpanProcessors=[],this._tracers=new Map;var t,n,r,i,o,s,a,u,c,l,p,d,h,f,_,E,T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e.shift(),r=new WeakMap;e.length>0;)n=function e(t,n,r,i){if(void 0===r&&(r=0),!(r>20)){if(r++,rp(t)||rp(n)||rc(n))o=rs(n);else if(ru(t)){if(o=t.slice(),ru(n))for(var o,s=0,a=n.length;s<a;s++)o.push(rs(n[s]));else if(rl(n))for(var u=Object.keys(n),s=0,a=u.length;s<a;s++){var c=u[s];o[c]=rs(n[c])}}else if(rl(t)){if(rl(n)){if(!ro(t)||!ro(n))return n;o=Object.assign({},t);for(var u=Object.keys(n),s=0,a=u.length;s<a;s++){var c=u[s],l=n[c];if(rp(l))void 0===l?delete o[c]:o[c]=l;else{var p=o[c];if(ra(t,c,i)||ra(n,c,i))delete o[c];else{if(rl(p)&&rl(l)){var d=i.get(p)||[],h=i.get(l)||[];d.push({obj:t,key:c}),h.push({obj:n,key:c}),i.set(p,d),i.set(l,h)}o[c]=e(o[c],l,r,i)}}}}else o=n}return o}}(n,e.shift(),0,r);return n}({},rC(),(f=Object.assign({},(t=e).spanLimits),_=nM(nU),f.attributeCountLimit=null!==(a=null!==(s=null!==(o=null!==(r=null===(n=t.spanLimits)||void 0===n?void 0:n.attributeCountLimit)&&void 0!==r?r:null===(i=t.generalLimits)||void 0===i?void 0:i.attributeCountLimit)&&void 0!==o?o:_.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)&&void 0!==s?s:_.OTEL_ATTRIBUTE_COUNT_LIMIT)&&void 0!==a?a:128,f.attributeValueLengthLimit=null!==(h=null!==(d=null!==(p=null!==(c=null===(u=t.spanLimits)||void 0===u?void 0:u.attributeValueLengthLimit)&&void 0!==c?c:null===(l=t.generalLimits)||void 0===l?void 0:l.attributeValueLengthLimit)&&void 0!==p?p:_.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==d?d:_.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==h?h:nk,Object.assign({},t,{spanLimits:f})));this.resource=null!==(E=T.resource)&&void 0!==E?E:rG.empty(),this.resource=rG.default().merge(this.resource),this._config=Object.assign({},T,{resource:this.resource});var y=this._buildExporterFromEnv();if(void 0!==y){var v=new rD(y);this.activeSpanProcessor=v}else this.activeSpanProcessor=new rz}return e.prototype.getTracer=function(e,t,n){var r=e+"@"+(t||"")+":"+((null==n?void 0:n.schemaUrl)||"");return this._tracers.has(r)||this._tracers.set(r,new rF({name:e,version:t,schemaUrl:null==n?void 0:n.schemaUrl},this._config,this)),this._tracers.get(r)},e.prototype.addSpanProcessor=function(e){0===this._registeredSpanProcessors.length&&this.activeSpanProcessor.shutdown().catch(function(e){return tf.error("Error while trying to shutdown current span processor",e)}),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new rK(this._registeredSpanProcessors)},e.prototype.getActiveSpanProcessor=function(){return this.activeSpanProcessor},e.prototype.register=function(e){void 0===e&&(e={}),tA.setGlobalTracerProvider(this),void 0===e.propagator&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&th.setGlobalContextManager(e.contextManager),e.propagator&&tw.setGlobalPropagator(e.propagator)},e.prototype.forceFlush=function(){var e=this._config.forceFlushTimeoutMillis,t=this._registeredSpanProcessors.map(function(t){return new Promise(function(n){var r,i=setTimeout(function(){n(Error("Span processor did not completed within timeout period of "+e+" ms")),r=rj.timeout},e);t.forceFlush().then(function(){clearTimeout(i),r!==rj.timeout&&n(r=rj.resolved)}).catch(function(e){clearTimeout(i),r=rj.error,n(e)})})});return new Promise(function(e,n){Promise.all(t).then(function(t){var r=t.filter(function(e){return e!==rj.resolved});r.length>0?n(r):e()}).catch(function(e){return n([e])})})},e.prototype.shutdown=function(){return this.activeSpanProcessor.shutdown()},e.prototype._getPropagator=function(e){var t;return null===(t=this.constructor._registeredPropagators.get(e))||void 0===t?void 0:t()},e.prototype._getSpanExporter=function(e){var t;return null===(t=this.constructor._registeredExporters.get(e))||void 0===t?void 0:t()},e.prototype._buildPropagatorFromEnv=function(){var e=this,t=Array.from(new Set(nB().OTEL_PROPAGATORS)),n=t.map(function(t){var n=e._getPropagator(t);return n||tf.warn('Propagator "'+t+'" requested through environment variable is unavailable.'),n}).reduce(function(e,t){return t&&e.push(t),e},[]);if(0!==n.length)return 1===t.length?n[0]:new nQ({propagators:n})},e.prototype._buildExporterFromEnv=function(){var e=nB().OTEL_TRACES_EXPORTER;if(!("none"===e||""===e)){var t=this._getSpanExporter(e);return t||tf.error('Exporter "'+e+'" requested through environment variable is unavailable.'),t}},e._registeredPropagators=new Map([["tracecontext",function(){return new n8}],["baggage",function(){return new nO}]]),e._registeredExporters=new Map,e}(),rY=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},rJ=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},rQ=function(){function e(){this._enabled=!1,this._currentContext=eb}return e.prototype._bindFunction=function(e,t){void 0===e&&(e=eb);var n=this,r=function(){for(var r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return n.with(e,function(){return t.apply(r,i)})};return Object.defineProperty(r,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),r},e.prototype.active=function(){return this._currentContext},e.prototype.bind=function(e,t){return void 0===e&&(e=this.active()),"function"==typeof t?this._bindFunction(e,t):t},e.prototype.disable=function(){return this._currentContext=eb,this._enabled=!1,this},e.prototype.enable=function(){return this._enabled||(this._enabled=!0,this._currentContext=eb),this},e.prototype.with=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=this._currentContext;this._currentContext=e||eb;try{return t.call.apply(t,rJ([n],rY(r),!1))}finally{this._currentContext=o}},e}(),rZ=function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),r0=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;if(t.contextManager)throw"contextManager should be defined in register method not in constructor";if(t.propagator)throw"propagator should be defined in register method not in constructor";return n}return rZ(t,e),t.prototype.register=function(t){void 0===t&&(t={}),void 0===t.contextManager&&(t.contextManager=new rQ),t.contextManager&&t.contextManager.enable(),e.prototype.register.call(this,t)},t}(rW);function r1(e,t,n,r){var i=void 0,o=void 0;t in n&&"number"==typeof n[t]&&(i=n[t]);var s=r$.FETCH_START;if(s in n&&"number"==typeof n[s]&&(o=n[s]),void 0!==i&&void 0!==o&&i>=o)return e.addEvent(t,i),e}function r2(e,t){r1(e,r$.FETCH_START,t),r1(e,r$.DOMAIN_LOOKUP_START,t),r1(e,r$.DOMAIN_LOOKUP_END,t),r1(e,r$.CONNECT_START,t),"name"in t&&t.name.startsWith("https:")&&r1(e,r$.SECURE_CONNECTION_START,t),r1(e,r$.CONNECT_END,t),r1(e,r$.REQUEST_START,t),r1(e,r$.RESPONSE_START,t),r1(e,r$.RESPONSE_END,t);var n=t[r$.ENCODED_BODY_SIZE];void 0!==n&&e.setAttribute("http.response_content_length",n);var r=t[r$.DECODED_BODY_SIZE];void 0!==r&&n!==r&&e.setAttribute("http.response_content_length_uncompressed",r)}function r3(){return"undefined"!=typeof location?location.origin:void 0}function r4(e,t,n,r,i,o){void 0===i&&(i=new WeakSet);var s,a,u,c,l,p=r5(e),d=(s=e=p.toString(),a=i,u=nz(t),c=nz(n),(l=r.filter(function(e){var t=nz(nK(e[r$.FETCH_START])),n=nz(nK(e[r$.RESPONSE_END]));return e.initiatorType.toLowerCase()===(o||"xmlhttprequest")&&e.name===s&&t>=u&&n<=c})).length>0&&(l=l.filter(function(e){return!a.has(e)})),l);if(0===d.length)return{mainRequest:void 0};if(1===d.length)return{mainRequest:d[0]};var h=d.slice().sort(function(e,t){var n=e[r$.FETCH_START],r=t[r$.FETCH_START];return n>r?1:n<r?-1:0});if(p.origin===r3()||!(h.length>1))return{mainRequest:d[0]};var f=h[0],_=function(e,t,n){for(var r,i=nz(n),o=nz(nK(t)),s=e[1],a=e.length,u=1;u<a;u++){var c=e[u],l=nz(nK(c[r$.FETCH_START])),p=i-nz(nK(c[r$.RESPONSE_END]));l>=o&&(!r||p<r)&&(r=p,s=c)}return s}(h,f[r$.RESPONSE_END],n),E=f[r$.RESPONSE_END];return _[r$.FETCH_START]<E&&(_=f,f=void 0),{corsPreFlightRequest:f,mainRequest:_}}function r5(e){if("function"==typeof URL)return new URL(e,"undefined"!=typeof document?document.baseURI:"undefined"!=typeof location?location.href:void 0);var t=(iu||(iu=document.createElement("a")),iu);return t.href=e,t}function r6(e,t){var n=t||[];return("string"==typeof n||n instanceof RegExp)&&(n=[n]),r5(e).origin===r3()||n.some(function(t){return"string"==typeof t?e===t:!!e.match(t)})}!function(e){e.CONNECT_END="connectEnd",e.CONNECT_START="connectStart",e.DECODED_BODY_SIZE="decodedBodySize",e.DOM_COMPLETE="domComplete",e.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",e.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",e.DOM_INTERACTIVE="domInteractive",e.DOMAIN_LOOKUP_END="domainLookupEnd",e.DOMAIN_LOOKUP_START="domainLookupStart",e.ENCODED_BODY_SIZE="encodedBodySize",e.FETCH_START="fetchStart",e.LOAD_EVENT_END="loadEventEnd",e.LOAD_EVENT_START="loadEventStart",e.NAVIGATION_START="navigationStart",e.REDIRECT_END="redirectEnd",e.REDIRECT_START="redirectStart",e.REQUEST_START="requestStart",e.RESPONSE_END="responseEnd",e.RESPONSE_START="responseStart",e.SECURE_CONNECTION_START="secureConnectionStart",e.UNLOAD_EVENT_END="unloadEventEnd",e.UNLOAD_EVENT_START="unloadEventStart"}(r$||(r$={})),!function(e){e.DOCUMENT_LOAD="documentLoad",e.DOCUMENT_FETCH="documentFetch",e.RESOURCE_FETCH="resourceFetch"}(ic||(ic={})),function(e){e.FIRST_PAINT="firstPaint",e.FIRST_CONTENTFUL_PAINT="firstContentfulPaint"}(il||(il={}));var r8=function(){var e,t={},n=null===(e=tU.getEntriesByType)||void 0===e?void 0:e.call(tU,"navigation")[0];if(n){var r=Object.values(r$);r.forEach(function(e){if(e in n){var r=n[e];"number"==typeof r&&(t[e]=r)}})}else{var i=tU.timing;if(i){var r=Object.values(r$);r.forEach(function(e){if(e in i){var n=i[e];"number"==typeof n&&(t[e]=n)}})}}return t},r9={"first-paint":il.FIRST_PAINT,"first-contentful-paint":il.FIRST_CONTENTFUL_PAINT},r7=function(e){var t,n=null===(t=tU.getEntriesByType)||void 0===t?void 0:t.call(tU,"paint");n&&n.forEach(function(t){var n=t.name,r=t.startTime;n in r9&&e.addEvent(r9[n],r)})},ie=function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),it=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,"@opentelemetry/instrumentation-document-load","0.40.0",t)||this;return n.component="document-load",n.version="1",n.moduleName=n.component,n}return ie(t,e),t.prototype.init=function(){},t.prototype._onDocumentLoaded=function(){var e=this;window.setTimeout(function(){e._collectPerformance()})},t.prototype._addResourcesSpans=function(e){var t,n=this,r=null===(t=tU.getEntriesByType)||void 0===t?void 0:t.call(tU,"resource");r&&r.forEach(function(t){n._initResourceSpan(t,e)})},t.prototype._collectPerformance=function(){var e=this,t=Array.from(document.getElementsByTagName("meta")).find(function(e){return e.getAttribute("name")===t8}),n=r8(),r=t&&t.content||"";th.with(tw.extract(eb,{traceparent:r}),function(){var t,r=e._startSpan(ic.DOCUMENT_LOAD,r$.FETCH_START,n);r&&(th.with(tA.setSpan(th.active(),r),function(){var t=e._startSpan(ic.DOCUMENT_FETCH,r$.FETCH_START,n);t&&(t.setAttribute(tH,location.href),th.with(tA.setSpan(th.active(),t),function(){var r;e.getConfig().ignoreNetworkEvents||r2(t,n),e._addCustomAttributesOnSpan(t,null===(r=e.getConfig().applyCustomAttributesOnSpan)||void 0===r?void 0:r.documentFetch),e._endSpan(t,r$.RESPONSE_END,n)}))}),r.setAttribute(tH,location.href),r.setAttribute(tq,navigator.userAgent),e._addResourcesSpans(r),e.getConfig().ignoreNetworkEvents||(r1(r,r$.FETCH_START,n),r1(r,r$.UNLOAD_EVENT_START,n),r1(r,r$.UNLOAD_EVENT_END,n),r1(r,r$.DOM_INTERACTIVE,n),r1(r,r$.DOM_CONTENT_LOADED_EVENT_START,n),r1(r,r$.DOM_CONTENT_LOADED_EVENT_END,n),r1(r,r$.DOM_COMPLETE,n),r1(r,r$.LOAD_EVENT_START,n),r1(r,r$.LOAD_EVENT_END,n)),e.getConfig().ignorePerformancePaintEvents||r7(r),e._addCustomAttributesOnSpan(r,null===(t=e.getConfig().applyCustomAttributesOnSpan)||void 0===t?void 0:t.documentLoad),e._endSpan(r,r$.LOAD_EVENT_END,n))})},t.prototype._endSpan=function(e,t,n){e&&(t in n?e.end(n[t]):e.end())},t.prototype._initResourceSpan=function(e,t){var n,r=this._startSpan(ic.RESOURCE_FETCH,r$.FETCH_START,e,t);r&&(r.setAttribute(tH,e.name),this.getConfig().ignoreNetworkEvents||r2(r,e),this._addCustomAttributesOnResourceSpan(r,e,null===(n=this.getConfig().applyCustomAttributesOnSpan)||void 0===n?void 0:n.resourceFetch),this._endSpan(r,r$.RESPONSE_END,e))},t.prototype._startSpan=function(e,t,n,r){if(t in n&&"number"==typeof n[t])return this.tracer.startSpan(e,{startTime:n[t]},r?tA.setSpan(th.active(),r):void 0)},t.prototype._waitForPageLoad=function(){"complete"===window.document.readyState?this._onDocumentLoaded():(this._onDocumentLoaded=this._onDocumentLoaded.bind(this),window.addEventListener("load",this._onDocumentLoaded))},t.prototype._addCustomAttributesOnSpan=function(e,t){var n=this;t&&nE(function(){return t(e)},function(e){e&&n._diag.error("addCustomAttributesOnSpan",e)},!0)},t.prototype._addCustomAttributesOnResourceSpan=function(e,t,n){var r=this;n&&nE(function(){return n(e,t)},function(e){e&&r._diag.error("addCustomAttributesOnResourceSpan",e)},!0)},t.prototype.enable=function(){window.removeEventListener("load",this._onDocumentLoaded),this._waitForPageLoad()},t.prototype.disable=function(){window.removeEventListener("load",this._onDocumentLoaded)},t}(n_),ir="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof global?global:{},ii=performance;function io(e){return[Math.trunc(e/1e3),Math.round(e%1e3*1e6)]}function is(e){var t,n,r,i;return n=io(("number"!=typeof(t=ii.timeOrigin)&&(t=ii.timing&&ii.timing.fetchStart),t)),r=io(ii.now()),(i=[n[0]+r[0],n[1]+r[1]])[1]>=1e9&&(i[1]-=1e9,i[0]+=1),i}var ia=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(e){e.COMPONENT="component",e.HTTP_ERROR_NAME="http.error_name",e.HTTP_STATUS_TEXT="http.status_text"}(ip||(ip={}));var iu,ic,il,ip,id,ih="0.53.0",i_=function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),iE="object"==typeof _&&(null===(id=_.release)||void 0===id?void 0:id.name)==="node",iT=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,"@opentelemetry/instrumentation-fetch",ih,t)||this;return n.component="fetch",n.version=ih,n.moduleName=n.component,n._usedResources=new WeakSet,n._tasksCount=0,n}return i_(t,e),t.prototype.init=function(){},t.prototype._addChildSpan=function(e,t){var n=this.tracer.startSpan("CORS Preflight",{startTime:t[r$.FETCH_START]},tA.setSpan(th.active(),e));this.getConfig().ignoreNetworkEvents||r2(n,t),n.end(t[r$.RESPONSE_END])},t.prototype._addFinalSpanAttributes=function(e,t){var n=r5(t.url);e.setAttribute(tG,t.status),null!=t.statusText&&e.setAttribute(ip.HTTP_STATUS_TEXT,t.statusText),e.setAttribute(tV,n.host),e.setAttribute(tX,n.protocol.replace(":","")),"undefined"!=typeof navigator&&e.setAttribute(tq,navigator.userAgent)},t.prototype._addHeaders=function(e,t){if(!r6(t,this.getConfig().propagateTraceHeaderCorsUrls)){var n={};tw.inject(th.active(),n),Object.keys(n).length>0&&this._diag.debug("headers inject skipped due to CORS policy");return}if(e instanceof Request)tw.inject(th.active(),e.headers,{set:function(e,t,n){return e.set(t,"string"==typeof n?n:String(n))}});else if(e.headers instanceof Headers)tw.inject(th.active(),e.headers,{set:function(e,t,n){return e.set(t,"string"==typeof n?n:String(n))}});else if(e.headers instanceof Map)tw.inject(th.active(),e.headers,{set:function(e,t,n){return e.set(t,"string"==typeof n?n:String(n))}});else{var n={};tw.inject(th.active(),n),e.headers=Object.assign({},n,e.headers||{})}},t.prototype._clearResources=function(){0===this._tasksCount&&this.getConfig().clearTimingResources&&(performance.clearResourceTimings(),this._usedResources=new WeakSet)},t.prototype._createSpan=function(e,t){if(void 0===t&&(t={}),function(e,t){var n,r;if(!t)return!1;try{for(var i=ia(t),o=i.next();!o.done;o=i.next()){var s=o.value;if("string"==typeof s?e===s:!!e.match(s))return!0}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1}(e,this.getConfig().ignoreUrls)){this._diag.debug("ignoring span as url matches ignored url");return}var n,r=(t.method||"GET").toUpperCase(),i="HTTP "+r;return this.tracer.startSpan(i,{kind:tI.CLIENT,attributes:((n={})[ip.COMPONENT]=this.moduleName,n[tF]=r,n[tH]=e,n)})},t.prototype._findResourceAndAddNetworkEvents=function(e,t,n){var r=t.entries;if(!r.length){if(!performance.getEntriesByType)return;r=performance.getEntriesByType("resource")}var i=r4(t.spanUrl,t.startTime,n,r,this._usedResources,"fetch");if(i.mainRequest){var o=i.mainRequest;this._markResourceAsUsed(o);var s=i.corsPreFlightRequest;s&&(this._addChildSpan(e,s),this._markResourceAsUsed(s)),this.getConfig().ignoreNetworkEvents||r2(e,o)}},t.prototype._markResourceAsUsed=function(e){this._usedResources.add(e)},t.prototype._endSpan=function(e,t,n){var r=this,i=io(Date.now()),o=is();this._addFinalSpanAttributes(e,n),setTimeout(function(){var n;null===(n=t.observer)||void 0===n||n.disconnect(),r._findResourceAndAddNetworkEvents(e,t,o),r._tasksCount--,r._clearResources(),e.end(i)},300)},t.prototype._patchConstructor=function(){var e=this;return function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=this,o=r5(n[0]instanceof Request?n[0].url:String(n[0])).href,s=n[0]instanceof Request?n[0]:n[1]||{},a=e._createSpan(o,s);if(!a)return t.apply(this,n);var u=e._prepareSpanData(o);function c(t,n){e._applyAttributesAfterFetch(t,s,n),e._endSpan(t,u,{status:n.status||0,statusText:n.message,url:o})}function l(t,n){e._applyAttributesAfterFetch(t,s,n),n.status>=200&&n.status<400?e._endSpan(t,u,n):e._endSpan(t,u,{status:n.status,statusText:n.statusText,url:o})}function p(e,t,n){try{var r=n.clone(),i=n.clone(),o=r.body;if(o){var s=o.getReader(),a=function(){s.read().then(function(t){t.done?l(e,i):a()},function(t){c(e,t)})};a()}else l(e,n)}finally{t(n)}}function d(e,t,n){try{c(e,n)}finally{t(n)}}return new Promise(function(n,r){return th.with(tA.setSpan(th.active(),a),function(){return e._addHeaders(s,o),e._tasksCount++,t.apply(i,s instanceof Request?[s]:[o,s]).then(p.bind(i,a,n),d.bind(i,a,r))})})}}},t.prototype._applyAttributesAfterFetch=function(e,t,n){var r=this,i=this.getConfig().applyCustomAttributesOnSpan;i&&nE(function(){return i(e,t,n)},function(e){e&&r._diag.error("applyCustomAttributesOnSpan",e)},!0)},t.prototype._prepareSpanData=function(e){var t=is(),n=[];if("function"!=typeof PerformanceObserver)return{entries:n,startTime:t,spanUrl:e};var r=new PerformanceObserver(function(t){t.getEntries().forEach(function(t){"fetch"===t.initiatorType&&t.name===e&&n.push(t)})});return r.observe({entryTypes:["resource"]}),{entries:n,observer:r,startTime:t,spanUrl:e}},t.prototype.enable=function(){if(iE){this._diag.warn("this instrumentation is intended for web usage only, it does not instrument Node.js's fetch()");return}nT(fetch)&&(this._unwrap(ir,"fetch"),this._diag.debug("removing previous patch for constructor")),this._wrap(ir,"fetch",this._patchConstructor())},t.prototype.disable=function(){iE||(this._unwrap(ir,"fetch"),this._usedResources=new WeakSet)},t}(n_),iy=performance;function iv(e){return[Math.trunc(e/1e3),Math.round(e%1e3*1e6)]}function ig(e){var t,n,r,i;return n=iv(("number"!=typeof(t=iy.timeOrigin)&&(t=iy.timing&&iy.timing.fetchStart),t)),r=iv(iy.now()),(i=[n[0]+r[0],n[1]+r[1]])[1]>=1e9&&(i[1]-=1e9,i[0]+=1),i}var im=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(e){e.METHOD_OPEN="open",e.METHOD_SEND="send",e.EVENT_ABORT="abort",e.EVENT_ERROR="error",e.EVENT_LOAD="loaded",e.EVENT_TIMEOUT="timeout"}(iO||(iO={}));var iO,iS,ib="0.53.0";(iS||(iS={})).HTTP_STATUS_TEXT="http.status_text";var iR=function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),iw=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,"@opentelemetry/instrumentation-xml-http-request",ib,t)||this;return n.component="xml-http-request",n.version=ib,n.moduleName=n.component,n._tasksCount=0,n._xhrMem=new WeakMap,n._usedResources=new WeakSet,n}return iR(t,e),t.prototype.init=function(){},t.prototype._addHeaders=function(e,t){if(!r6(r5(t).href,this.getConfig().propagateTraceHeaderCorsUrls)){var n={};tw.inject(th.active(),n),Object.keys(n).length>0&&this._diag.debug("headers inject skipped due to CORS policy");return}var r={};tw.inject(th.active(),r),Object.keys(r).forEach(function(t){e.setRequestHeader(t,String(r[t]))})},t.prototype._addChildSpan=function(e,t){var n=this;th.with(tA.setSpan(th.active(),e),function(){var e=n.tracer.startSpan("CORS Preflight",{startTime:t[r$.FETCH_START]});n.getConfig().ignoreNetworkEvents||r2(e,t),e.end(t[r$.RESPONSE_END])})},t.prototype._addFinalSpanAttributes=function(e,t,n){if("string"==typeof n){var r=r5(n);void 0!==t.status&&e.setAttribute(tG,t.status),void 0!==t.statusText&&e.setAttribute(iS.HTTP_STATUS_TEXT,t.statusText),e.setAttribute(tV,r.host),e.setAttribute(tX,r.protocol.replace(":","")),e.setAttribute(tq,navigator.userAgent)}},t.prototype._applyAttributesAfterXHR=function(e,t){var n=this,r=this.getConfig().applyCustomAttributesOnSpan;"function"==typeof r&&nE(function(){return r(e,t)},function(e){e&&n._diag.error("applyCustomAttributesOnSpan",e)},!0)},t.prototype._addResourceObserver=function(e,t){var n=this._xhrMem.get(e);n&&"function"==typeof PerformanceObserver&&"function"==typeof PerformanceResourceTiming&&(n.createdResources={observer:new PerformanceObserver(function(e){var r=e.getEntries(),i=r5(t);r.forEach(function(e){"xmlhttprequest"===e.initiatorType&&e.name===i.href&&n.createdResources&&n.createdResources.entries.push(e)})}),entries:[]},n.createdResources.observer.observe({entryTypes:["resource"]}))},t.prototype._clearResources=function(){0===this._tasksCount&&this.getConfig().clearTimingResources&&(iy.clearResourceTimings(),this._xhrMem=new WeakMap,this._usedResources=new WeakSet)},t.prototype._findResourceAndAddNetworkEvents=function(e,t,n,r,i){if(!(!n||!r||!i||!e.createdResources)){var o=e.createdResources.entries;o&&o.length||(o=iy.getEntriesByType("resource"));var s=r4(r5(n).href,r,i,o,this._usedResources);if(s.mainRequest){var a=s.mainRequest;this._markResourceAsUsed(a);var u=s.corsPreFlightRequest;u&&(this._addChildSpan(t,u),this._markResourceAsUsed(u)),this.getConfig().ignoreNetworkEvents||r2(t,a)}}},t.prototype._cleanPreviousSpanInformation=function(e){var t=this._xhrMem.get(e);if(t){var n=t.callbackToRemoveEvents;n&&n(),this._xhrMem.delete(e)}},t.prototype._createSpan=function(e,t,n){if(function(e,t){var n,r;if(!t)return!1;try{for(var i=im(t),o=i.next();!o.done;o=i.next()){var s=o.value;if("string"==typeof s?e===s:!!e.match(s))return!0}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1}(t,this.getConfig().ignoreUrls)){this._diag.debug("ignoring span as url matches ignored url");return}var r,i=n.toUpperCase(),o=this.tracer.startSpan(i,{kind:tI.CLIENT,attributes:((r={})[tF]=n,r[tH]=r5(t).toString(),r)});return o.addEvent(iO.METHOD_OPEN),this._cleanPreviousSpanInformation(e),this._xhrMem.set(e,{span:o,spanUrl:t}),o},t.prototype._markResourceAsUsed=function(e){this._usedResources.add(e)},t.prototype._patchOpen=function(){var e=this;return function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=n[0],o=n[1];return e._createSpan(this,o,i),t.apply(this,n)}}},t.prototype._patchSend=function(){var e=this;function t(t,n){var r=e._xhrMem.get(n);if(r){r.status=n.status,r.statusText=n.statusText,e._xhrMem.delete(n),r.span&&e._applyAttributesAfterXHR(r.span,n);var i=ig(),o=Date.now();setTimeout(function(){var n,s,a,u;"function"==typeof(n=r.callbackToRemoveEvents)&&n(),s=r.span,a=r.spanUrl,u=r.sendStartTime,s&&(e._findResourceAndAddNetworkEvents(r,s,a,u,i),s.addEvent(t,o),e._addFinalSpanAttributes(s,r,a),s.end(o),e._tasksCount--),e._clearResources()},300)}}function n(){t(iO.EVENT_ERROR,this)}function r(){t(iO.EVENT_ABORT,this)}function i(){t(iO.EVENT_TIMEOUT,this)}function o(){this.status<299?t(iO.EVENT_LOAD,this):t(iO.EVENT_ERROR,this)}return function(t){return function(){for(var s=this,a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var c=e._xhrMem.get(this);if(!c)return t.apply(this,a);var l=c.span,p=c.spanUrl;return l&&p&&th.with(tA.setSpan(th.active(),l),function(){e._tasksCount++,c.sendStartTime=ig(),l.addEvent(iO.METHOD_SEND),s.addEventListener("abort",r),s.addEventListener("error",n),s.addEventListener("load",o),s.addEventListener("timeout",i),c.callbackToRemoveEvents=function(){var t;s.removeEventListener("abort",r),s.removeEventListener("error",n),s.removeEventListener("load",o),s.removeEventListener("timeout",i),(t=e._xhrMem.get(s))&&(t.callbackToRemoveEvents=void 0),c.createdResources&&c.createdResources.observer.disconnect()},e._addHeaders(s,p),e._addResourceObserver(s,p)}),t.apply(this,a)}}},t.prototype.enable=function(){this._diag.debug("applying patch to",this.moduleName,this.version),nT(XMLHttpRequest.prototype.open)&&(this._unwrap(XMLHttpRequest.prototype,"open"),this._diag.debug("removing previous patch from method open")),nT(XMLHttpRequest.prototype.send)&&(this._unwrap(XMLHttpRequest.prototype,"send"),this._diag.debug("removing previous patch from method send")),this._wrap(XMLHttpRequest.prototype,"open",this._patchOpen()),this._wrap(XMLHttpRequest.prototype,"send",this._patchSend())},t.prototype.disable=function(){this._diag.debug("removing patch from",this.moduleName,this.version),this._unwrap(XMLHttpRequest.prototype,"open"),this._unwrap(XMLHttpRequest.prototype,"send"),this._tasksCount=0,this._xhrMem=new WeakMap,this._usedResources=new WeakSet},t}(n_),iL=function(){return(iL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},iA=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},iN=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},iC=function(){function e(e,t){var n,r=this;this._attributes=e,this.asyncAttributesPending=null!=t,this._syncAttributes=null!==(n=this._attributes)&&void 0!==n?n:{},this._asyncAttributesPromise=null==t?void 0:t.then(function(e){return r._attributes=Object.assign({},r._attributes,e),r.asyncAttributesPending=!1,e},function(e){return tf.debug("a resource's async attributes promise rejected: %s",e),r.asyncAttributesPending=!1,{}})}return e.empty=function(){return e.EMPTY},e.default=function(){var t;return new e(((t={})[tz]="unknown_service",t[tW]=tQ[tW],t[t$]=tQ[t$],t[tY]=tQ[tY],t))},Object.defineProperty(e.prototype,"attributes",{get:function(){var e;return this.asyncAttributesPending&&tf.error("Accessing resource attributes before async attributes settled"),null!==(e=this._attributes)&&void 0!==e?e:{}},enumerable:!1,configurable:!0}),e.prototype.waitForAsyncAttributes=function(){var e,t,n,r;return e=this,t=void 0,n=void 0,r=function(){return iA(this,function(e){switch(e.label){case 0:return this.asyncAttributesPending?[4,this._asyncAttributesPromise]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}u((r=r.apply(e,t||[])).next())})},e.prototype.merge=function(t){var n,r=this;if(!t)return this;var i=iL(iL({},this._syncAttributes),null!==(n=t._syncAttributes)&&void 0!==n?n:t.attributes);return this._asyncAttributesPromise||t._asyncAttributesPromise?new e(i,Promise.all([this._asyncAttributesPromise,t._asyncAttributesPromise]).then(function(e){var n,i=iN(e,2),o=i[0],s=i[1];return iL(iL(iL(iL({},r._syncAttributes),o),null!==(n=t._syncAttributes)&&void 0!==n?n:t.attributes),s)})):new e(i)},e.EMPTY=new e({}),e}();function iI(e,t){if(!e)throw Error(t)}let iP=/\r\n|[\n\r]/g;function ik(e,t){let n=0,r=1;for(let i of e.body.matchAll(iP)){if("number"==typeof i.index||function(e,t){if(!e)throw Error("Unexpected invariant triggered.")}(!1),i.index>=t)break;n=i.index+i[0].length,r+=1}return{line:r,column:t+1-n}}function ix(e,t){let n=e.locationOffset.column-1,r="".padStart(n)+e.body,i=t.line-1,o=e.locationOffset.line-1,s=t.line+o,a=1===t.line?n:0,u=t.column+a,c=`${e.name}:${s}:${u}
`,l=r.split(/\r\n|[\n\r]/g),p=l[i];if(p.length>120){let e=Math.floor(u/80),t=[];for(let e=0;e<p.length;e+=80)t.push(p.slice(e,e+80));return c+iD([[`${s} |`,t[0]],...t.slice(1,e+1).map(e=>["|",e]),["|","^".padStart(u%80)],["|",t[e+1]]])}return c+iD([[`${s-1} |`,l[i-1]],[`${s} |`,p],["|","^".padStart(u)],[`${s+1} |`,l[i+1]]])}function iD(e){let t=e.filter(([e,t])=>void 0!==t),n=Math.max(...t.map(([e])=>e.length));return t.map(([e,t])=>e.padStart(n)+(t?" "+t:"")).join(`
`)}class iM extends Error{constructor(e,...t){var n,r,i;let{nodes:o,source:s,positions:a,path:u,originalError:c,extensions:l}=function(e){let t=e[0];return null==t||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}(t);super(e),this.name="GraphQLError",this.path=null!=u?u:void 0,this.originalError=null!=c?c:void 0,this.nodes=iU(Array.isArray(o)?o:o?[o]:void 0);let p=iU(null===(n=this.nodes)||void 0===n?void 0:n.map(e=>e.loc).filter(e=>null!=e));this.source=null!=s?s:null==p||null===(r=p[0])||void 0===r?void 0:r.source,this.positions=null!=a?a:null==p?void 0:p.map(e=>e.start),this.locations=a&&s?a.map(e=>ik(s,e)):null==p?void 0:p.map(e=>ik(e.source,e.start));let d=!function(e){return"object"==typeof e&&null!==e}(null==c?void 0:c.extensions)?void 0:null==c?void 0:c.extensions;this.extensions=null!==(i=null!=l?l:d)&&void 0!==i?i:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=c&&c.stack?Object.defineProperty(this,"stack",{value:c.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,iM):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(let n of this.nodes){var t;n.loc&&(e+=`

`+ix((t=n.loc).source,ik(t.source,t.start)))}else if(this.source&&this.locations)for(let t of this.locations)e+=`

`+ix(this.source,t);return e}toJSON(){let e={message:this.message};return null!=this.locations&&(e.locations=this.locations),null!=this.path&&(e.path=this.path),null!=this.extensions&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function iU(e){return void 0===e||0===e.length?void 0:e}function iB(e,t,n){return new iM(`Syntax Error: ${n}`,{source:e,positions:[t]})}class ij{constructor(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class iF{constructor(e,t,n,r,i,o){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}let iH={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},iV=new Set(Object.keys(iH));function iX(e){let t=null==e?void 0:e.kind;return"string"==typeof t&&iV.has(t)}function iG(e){return 9===e||32===e}function iq(e){return e>=48&&e<=57}function iK(e){return e>=97&&e<=122||e>=65&&e<=90}function iz(e){return iK(e)||95===e}function i$(e,t){let n=e.replace(/"""/g,'\\"""'),r=n.split(/\r\n|[\n\r]/g),i=1===r.length,o=r.length>1&&r.slice(1).every(e=>0===e.length||iG(e.charCodeAt(0))),s=n.endsWith('\\"""'),a=e.endsWith('"')&&!s,u=e.endsWith("\\"),c=a||u,l=!i||e.length>70||c||o||s,p="",d=i&&iG(e.charCodeAt(0));return(l&&!d||o)&&(p+=`
`),p+=n,(l||c)&&(p+=`
`),'"""'+p+'"""'}!function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"}(i||(i={})),function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"}(o||(o={})),function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"}(s||(s={})),function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"}(a||(a={}));class iW{constructor(e){let t=new iF(a.SOF,0,0,0,0);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==a.EOF)do if(e.next)e=e.next;else{let t=function(e,t){let n=e.source.body,r=n.length,i=t;for(;i<r;){let t=n.charCodeAt(i);switch(t){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++e.line,e.lineStart=i;continue;case 13:10===n.charCodeAt(i+1)?i+=2:++i,++e.line,e.lineStart=i;continue;case 35:return function(e,t){let n=e.source.body,r=n.length,i=t+1;for(;i<r;){let e=n.charCodeAt(i);if(10===e||13===e)break;if(iY(e))++i;else if(iJ(n,i))i+=2;else break}return i1(e,a.COMMENT,t,i,n.slice(t+1,i))}(e,i);case 33:return i1(e,a.BANG,i,i+1);case 36:return i1(e,a.DOLLAR,i,i+1);case 38:return i1(e,a.AMP,i,i+1);case 40:return i1(e,a.PAREN_L,i,i+1);case 41:return i1(e,a.PAREN_R,i,i+1);case 46:if(46===n.charCodeAt(i+1)&&46===n.charCodeAt(i+2))return i1(e,a.SPREAD,i,i+3);break;case 58:return i1(e,a.COLON,i,i+1);case 61:return i1(e,a.EQUALS,i,i+1);case 64:return i1(e,a.AT,i,i+1);case 91:return i1(e,a.BRACKET_L,i,i+1);case 93:return i1(e,a.BRACKET_R,i,i+1);case 123:return i1(e,a.BRACE_L,i,i+1);case 124:return i1(e,a.PIPE,i,i+1);case 125:return i1(e,a.BRACE_R,i,i+1);case 34:return 34===n.charCodeAt(i+1)&&34===n.charCodeAt(i+2)?function(e,t){let n=e.source.body,r=n.length,i=e.lineStart,o=t+3,s=o,u="",c=[];for(;o<r;){let r=n.charCodeAt(o);if(34===r&&34===n.charCodeAt(o+1)&&34===n.charCodeAt(o+2)){u+=n.slice(s,o),c.push(u);let r=i1(e,a.BLOCK_STRING,t,o+3,(function(e){var t,n;let r=Number.MAX_SAFE_INTEGER,i=null,o=-1;for(let t=0;t<e.length;++t){let s=e[t],a=function(e){let t=0;for(;t<e.length&&iG(e.charCodeAt(t));)++t;return t}(s);a!==s.length&&(i=null!==(n=i)&&void 0!==n?n:t,o=t,0!==t&&a<r&&(r=a))}return e.map((e,t)=>0===t?e:e.slice(r)).slice(null!==(t=i)&&void 0!==t?t:0,o+1)})(c).join(`
`));return e.line+=c.length-1,e.lineStart=i,r}if(92===r&&34===n.charCodeAt(o+1)&&34===n.charCodeAt(o+2)&&34===n.charCodeAt(o+3)){u+=n.slice(s,o),s=o+1,o+=4;continue}if(10===r||13===r){u+=n.slice(s,o),c.push(u),13===r&&10===n.charCodeAt(o+1)?o+=2:++o,u="",s=o,i=o;continue}if(iY(r))++o;else if(iJ(n,o))o+=2;else throw iB(e.source,o,`Invalid character within String: ${i0(e,o)}.`)}throw iB(e.source,o,"Unterminated string.")}(e,i):function(e,t){let n=e.source.body,r=n.length,i=t+1,o=i,s="";for(;i<r;){let r=n.charCodeAt(i);if(34===r)return s+=n.slice(o,i),i1(e,a.STRING,t,i+1,s);if(92===r){s+=n.slice(o,i);let t=117===n.charCodeAt(i+1)?123===n.charCodeAt(i+2)?function(e,t){let n=e.source.body,r=0,i=3;for(;i<12;){let e=n.charCodeAt(t+i++);if(125===e){if(i<5||!iY(r))break;return{value:String.fromCodePoint(r),size:i}}if((r=r<<4|i4(e))<0)break}throw iB(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+i)}".`)}(e,i):function(e,t){let n=e.source.body,r=i3(n,t+2);if(iY(r))return{value:String.fromCodePoint(r),size:6};if(iQ(r)&&92===n.charCodeAt(t+6)&&117===n.charCodeAt(t+7)){let e=i3(n,t+8);if(iZ(e))return{value:String.fromCodePoint(r,e),size:12}}throw iB(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+6)}".`)}(e,i):function(e,t){let n=e.source.body;switch(n.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw iB(e.source,t,`Invalid character escape sequence: "${n.slice(t,t+2)}".`)}(e,i);s+=t.value,i+=t.size,o=i;continue}if(10===r||13===r)break;if(iY(r))++i;else if(iJ(n,i))i+=2;else throw iB(e.source,i,`Invalid character within String: ${i0(e,i)}.`)}throw iB(e.source,i,"Unterminated string.")}(e,i)}if(iq(t)||45===t)return function(e,t,n){let r=e.source.body,i=t,o=n,s=!1;if(45===o&&(o=r.charCodeAt(++i)),48===o){if(iq(o=r.charCodeAt(++i)))throw iB(e.source,i,`Invalid number, unexpected digit after 0: ${i0(e,i)}.`)}else i=i2(e,i,o),o=r.charCodeAt(i);if(46===o&&(s=!0,o=r.charCodeAt(++i),i=i2(e,i,o),o=r.charCodeAt(i)),(69===o||101===o)&&(s=!0,(43===(o=r.charCodeAt(++i))||45===o)&&(o=r.charCodeAt(++i)),i=i2(e,i,o),o=r.charCodeAt(i)),46===o||iz(o))throw iB(e.source,i,`Invalid number, expected digit but got: ${i0(e,i)}.`);return i1(e,s?a.FLOAT:a.INT,t,i,r.slice(t,i))}(e,i,t);if(iz(t))return function(e,t){let n=e.source.body,r=n.length,i=t+1;for(;i<r;){var o;if(iK(o=n.charCodeAt(i))||iq(o)||95===o)++i;else break}return i1(e,a.NAME,t,i,n.slice(t,i))}(e,i);throw iB(e.source,i,39===t?"Unexpected single quote character ('), did you mean to use a double quote (\")?":iY(t)||iJ(n,i)?`Unexpected character: ${i0(e,i)}.`:`Invalid character: ${i0(e,i)}.`)}return i1(e,a.EOF,r,r)}(this,e.end);e.next=t,t.prev=e,e=t}while(e.kind===a.COMMENT);return e}}function iY(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function iJ(e,t){return iQ(e.charCodeAt(t))&&iZ(e.charCodeAt(t+1))}function iQ(e){return e>=55296&&e<=56319}function iZ(e){return e>=56320&&e<=57343}function i0(e,t){let n=e.source.body.codePointAt(t);if(void 0===n)return a.EOF;if(n>=32&&n<=126){let e=String.fromCodePoint(n);return'"'===e?"'\"'":`"${e}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function i1(e,t,n,r,i){let o=e.line,s=1+n-e.lineStart;return new iF(t,n,r,o,s,i)}function i2(e,t,n){if(!iq(n))throw iB(e.source,t,`Invalid number, expected digit but got: ${i0(e,t)}.`);let r=e.source.body,i=t+1;for(;iq(r.charCodeAt(i));)++i;return i}function i3(e,t){return i4(e.charCodeAt(t))<<12|i4(e.charCodeAt(t+1))<<8|i4(e.charCodeAt(t+2))<<4|i4(e.charCodeAt(t+3))}function i4(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function i5(e){return function e(t,n){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return function(t,n){if(null===t)return"null";if(n.includes(t))return"[Circular]";let r=[...n,t];if("function"==typeof t.toJSON){let n=t.toJSON();if(n!==t)return"string"==typeof n?n:e(n,r)}else if(Array.isArray(t))return function(t,n){if(0===t.length)return"[]";if(n.length>2)return"[Array]";let r=Math.min(10,t.length),i=t.length-r,o=[];for(let i=0;i<r;++i)o.push(e(t[i],n));return 1===i?o.push("... 1 more item"):i>1&&o.push(`... ${i} more items`),"["+o.join(", ")+"]"}(t,r);return function(t,n){let r=Object.entries(t);return 0===r.length?"{}":n.length>2?"["+function(e){let t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){let t=e.constructor.name;if("string"==typeof t&&""!==t)return t}return t}(t)+"]":"{ "+r.map(([t,r])=>t+": "+e(r,n)).join(", ")+" }"}(t,r)}(t,n);default:return String(t)}}(e,[])}let i6=globalThis.process&&"production"===globalThis.process.env.NODE_ENV?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;if("object"==typeof e&&null!==e){var n;let r=t.prototype[Symbol.toStringTag];if(r===(Symbol.toStringTag in e?e[Symbol.toStringTag]:null===(n=e.constructor)||void 0===n?void 0:n.name)){let t=i5(e);throw Error(`Cannot use ${r} "${t}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class i8{constructor(e,t="GraphQL request",n={line:1,column:1}){"string"==typeof e||iI(!1,`Body must be a string. Received: ${i5(e)}.`),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||iI(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||iI(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function i9(e,t){return new i7(e,t).parseDocument()}class i7{constructor(e,t={}){let n=i6(e,i8)?e:new i8(e);this._lexer=new iW(n),this._options=t,this._tokenCounter=0}parseName(){let e=this.expectToken(a.NAME);return this.node(e,{kind:s.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:s.DOCUMENT,definitions:this.many(a.SOF,this.parseDefinition,a.EOF)})}parseDefinition(){if(this.peek(a.BRACE_L))return this.parseOperationDefinition();let e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(t.kind===a.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw iB(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}parseOperationDefinition(){let e;let t=this._lexer.token;if(this.peek(a.BRACE_L))return this.node(t,{kind:s.OPERATION_DEFINITION,operation:i.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});let n=this.parseOperationType();return this.peek(a.NAME)&&(e=this.parseName()),this.node(t,{kind:s.OPERATION_DEFINITION,operation:n,name:e,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){let e=this.expectToken(a.NAME);switch(e.value){case"query":return i.QUERY;case"mutation":return i.MUTATION;case"subscription":return i.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(a.PAREN_L,this.parseVariableDefinition,a.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:s.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(a.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(a.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){let e=this._lexer.token;return this.expectToken(a.DOLLAR),this.node(e,{kind:s.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:s.SELECTION_SET,selections:this.many(a.BRACE_L,this.parseSelection,a.BRACE_R)})}parseSelection(){return this.peek(a.SPREAD)?this.parseFragment():this.parseField()}parseField(){let e,t;let n=this._lexer.token,r=this.parseName();return this.expectOptionalToken(a.COLON)?(e=r,t=this.parseName()):t=r,this.node(n,{kind:s.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(a.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){let t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(a.PAREN_L,t,a.PAREN_R)}parseArgument(e=!1){let t=this._lexer.token,n=this.parseName();return this.expectToken(a.COLON),this.node(t,{kind:s.ARGUMENT,name:n,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){let e=this._lexer.token;this.expectToken(a.SPREAD);let t=this.expectOptionalKeyword("on");return!t&&this.peek(a.NAME)?this.node(e,{kind:s.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:s.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){let e=this._lexer.token;return this.expectKeyword("fragment"),!0===this._options.allowLegacyFragmentVariables?this.node(e,{kind:s.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:s.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()}parseValueLiteral(e){let t=this._lexer.token;switch(t.kind){case a.BRACKET_L:return this.parseList(e);case a.BRACE_L:return this.parseObject(e);case a.INT:return this.advanceLexer(),this.node(t,{kind:s.INT,value:t.value});case a.FLOAT:return this.advanceLexer(),this.node(t,{kind:s.FLOAT,value:t.value});case a.STRING:case a.BLOCK_STRING:return this.parseStringLiteral();case a.NAME:switch(this.advanceLexer(),t.value){case"true":return this.node(t,{kind:s.BOOLEAN,value:!0});case"false":return this.node(t,{kind:s.BOOLEAN,value:!1});case"null":return this.node(t,{kind:s.NULL});default:return this.node(t,{kind:s.ENUM,value:t.value})}case a.DOLLAR:if(e){if(this.expectToken(a.DOLLAR),this._lexer.token.kind===a.NAME){let e=this._lexer.token.value;throw iB(this._lexer.source,t.start,`Unexpected variable "$${e}" in constant value.`)}throw this.unexpected(t)}return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){let e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:s.STRING,value:e.value,block:e.kind===a.BLOCK_STRING})}parseList(e){return this.node(this._lexer.token,{kind:s.LIST,values:this.any(a.BRACKET_L,()=>this.parseValueLiteral(e),a.BRACKET_R)})}parseObject(e){return this.node(this._lexer.token,{kind:s.OBJECT,fields:this.any(a.BRACE_L,()=>this.parseObjectField(e),a.BRACE_R)})}parseObjectField(e){let t=this._lexer.token,n=this.parseName();return this.expectToken(a.COLON),this.node(t,{kind:s.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e)})}parseDirectives(e){let t=[];for(;this.peek(a.AT);)t.push(this.parseDirective(e));return t}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){let t=this._lexer.token;return this.expectToken(a.AT),this.node(t,{kind:s.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){let e;let t=this._lexer.token;if(this.expectOptionalToken(a.BRACKET_L)){let n=this.parseTypeReference();this.expectToken(a.BRACKET_R),e=this.node(t,{kind:s.LIST_TYPE,type:n})}else e=this.parseNamedType();return this.expectOptionalToken(a.BANG)?this.node(t,{kind:s.NON_NULL_TYPE,type:e}):e}parseNamedType(){return this.node(this._lexer.token,{kind:s.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(a.STRING)||this.peek(a.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");let n=this.parseConstDirectives(),r=this.many(a.BRACE_L,this.parseOperationTypeDefinition,a.BRACE_R);return this.node(e,{kind:s.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r})}parseOperationTypeDefinition(){let e=this._lexer.token,t=this.parseOperationType();this.expectToken(a.COLON);let n=this.parseNamedType();return this.node(e,{kind:s.OPERATION_TYPE_DEFINITION,operation:t,type:n})}parseScalarTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");let n=this.parseName(),r=this.parseConstDirectives();return this.node(e,{kind:s.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r})}parseObjectTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");let n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:s.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(a.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(a.BRACE_L,this.parseFieldDefinition,a.BRACE_R)}parseFieldDefinition(){let e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(a.COLON);let i=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(e,{kind:s.FIELD_DEFINITION,description:t,name:n,arguments:r,type:i,directives:o})}parseArgumentDefs(){return this.optionalMany(a.PAREN_L,this.parseInputValueDef,a.PAREN_R)}parseInputValueDef(){let e;let t=this._lexer.token,n=this.parseDescription(),r=this.parseName();this.expectToken(a.COLON);let i=this.parseTypeReference();this.expectOptionalToken(a.EQUALS)&&(e=this.parseConstValueLiteral());let o=this.parseConstDirectives();return this.node(t,{kind:s.INPUT_VALUE_DEFINITION,description:n,name:r,type:i,defaultValue:e,directives:o})}parseInterfaceTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");let n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:s.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o})}parseUnionTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");let n=this.parseName(),r=this.parseConstDirectives(),i=this.parseUnionMemberTypes();return this.node(e,{kind:s.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:i})}parseUnionMemberTypes(){return this.expectOptionalToken(a.EQUALS)?this.delimitedMany(a.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");let n=this.parseName(),r=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();return this.node(e,{kind:s.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:i})}parseEnumValuesDefinition(){return this.optionalMany(a.BRACE_L,this.parseEnumValueDefinition,a.BRACE_R)}parseEnumValueDefinition(){let e=this._lexer.token,t=this.parseDescription(),n=this.parseEnumValueName(),r=this.parseConstDirectives();return this.node(e,{kind:s.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r})}parseEnumValueName(){if("true"===this._lexer.token.value||"false"===this._lexer.token.value||"null"===this._lexer.token.value)throw iB(this._lexer.source,this._lexer.token.start,`${oe(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");let n=this.parseName(),r=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();return this.node(e,{kind:s.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:i})}parseInputFieldsDefinition(){return this.optionalMany(a.BRACE_L,this.parseInputValueDef,a.BRACE_R)}parseTypeSystemExtension(){let e=this._lexer.lookahead();if(e.kind===a.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");let t=this.parseConstDirectives(),n=this.optionalMany(a.BRACE_L,this.parseOperationTypeDefinition,a.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:s.SCHEMA_EXTENSION,directives:t,operationTypes:n})}parseScalarTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");let t=this.parseName(),n=this.parseConstDirectives();if(0===n.length)throw this.unexpected();return this.node(e,{kind:s.SCALAR_TYPE_EXTENSION,name:t,directives:n})}parseObjectTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");let t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:s.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i})}parseInterfaceTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");let t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:s.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i})}parseUnionTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");let t=this.parseName(),n=this.parseConstDirectives(),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:s.UNION_TYPE_EXTENSION,name:t,directives:n,types:r})}parseEnumTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");let t=this.parseName(),n=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:s.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r})}parseInputObjectTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");let t=this.parseName(),n=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:s.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r})}parseDirectiveDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(a.AT);let n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");let o=this.parseDirectiveLocations();return this.node(e,{kind:s.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:i,locations:o})}parseDirectiveLocations(){return this.delimitedMany(a.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){let e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(o,t.value))return t;throw this.unexpected(e)}node(e,t){return!0!==this._options.noLocation&&(t.loc=new ij(e,this._lexer.lastToken,this._lexer.source)),t}peek(e){return this._lexer.token.kind===e}expectToken(e){let t=this._lexer.token;if(t.kind===e)return this.advanceLexer(),t;throw iB(this._lexer.source,t.start,`Expected ${ot(e)}, found ${oe(t)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e&&(this.advanceLexer(),!0)}expectKeyword(e){let t=this._lexer.token;if(t.kind===a.NAME&&t.value===e)this.advanceLexer();else throw iB(this._lexer.source,t.start,`Expected "${e}", found ${oe(t)}.`)}expectOptionalKeyword(e){let t=this._lexer.token;return t.kind===a.NAME&&t.value===e&&(this.advanceLexer(),!0)}unexpected(e){let t=null!=e?e:this._lexer.token;return iB(this._lexer.source,t.start,`Unexpected ${oe(t)}.`)}any(e,t,n){this.expectToken(e);let r=[];for(;!this.expectOptionalToken(n);)r.push(t.call(this));return r}optionalMany(e,t,n){if(this.expectOptionalToken(e)){let e=[];do e.push(t.call(this));while(!this.expectOptionalToken(n));return e}return[]}many(e,t,n){this.expectToken(e);let r=[];do r.push(t.call(this));while(!this.expectOptionalToken(n));return r}delimitedMany(e,t){this.expectOptionalToken(e);let n=[];do n.push(t.call(this));while(this.expectOptionalToken(e));return n}advanceLexer(){let{maxTokens:e}=this._options,t=this._lexer.advance();if(void 0!==e&&t.kind!==a.EOF&&(++this._tokenCounter,this._tokenCounter>e))throw iB(this._lexer.source,t.start,`Document contains more that ${e} tokens. Parsing aborted.`)}}function oe(e){let t=e.value;return ot(e.kind)+(null!=t?` "${t}"`:"")}function ot(e){return e===a.BANG||e===a.DOLLAR||e===a.AMP||e===a.PAREN_L||e===a.PAREN_R||e===a.SPREAD||e===a.COLON||e===a.EQUALS||e===a.AT||e===a.BRACKET_L||e===a.BRACKET_R||e===a.BRACE_L||e===a.PIPE||e===a.BRACE_R?`"${e}"`:e}function on(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var or=function e(t,n){function r(e,r,i){if("undefined"!=typeof document){"number"==typeof(i=on({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var s in i)i[s]&&(o+="; "+s,!0!==i[s]&&(o+="="+i[s].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+o}}return Object.create({set:r,get:function(e){if(!("undefined"==typeof document||arguments.length&&!e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var o=n[i].split("="),s=o.slice(1).join("=");try{var a=decodeURIComponent(o[0]);if(r[a]=t.read(s,a),e===a)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){r(e,"",on({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,on({},this.attributes,t))},withConverter:function(t){return e(on({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});let oi="localStorage",oo=!0;class os{constructor(){w(this,"storage",{})}getItem(e){var t;return null!=(t=this.storage[e])?t:""}setItem(e,t){this.storage[e]=t}removeItem(e){delete this.storage[e]}}class oa{getItem(e){var t;return null!=(t=or.get(e))?t:""}setItem(e,t){if(!oo)return;let n=new Date;n.setTime(n.getTime()+9e5),or.set(e,t,{expires:n})}removeItem(e){oo&&or.remove(e)}}let ou=new os,oc=new oa,ol=()=>{try{switch(oi){case"localStorage":return window.localStorage;case"sessionStorage":return window.sessionStorage}}catch(e){return ou}},op=e=>{oi=e},od=e=>{oo=e},oh=e=>ol().getItem(e),of=(e,t)=>(oc.setItem(e,t),ol().setItem(e,t)),o_=e=>(oc.removeItem(e),ol().removeItem(e)),oE=e=>{if("sessionStorage"===oi){console.warn("highlight.io cannot use local storage; segment integration will not work");return}let t=window.localStorage.setItem;window.localStorage.setItem=function(){let[n,r]=arguments;e({keyName:n,keyValue:r}),t.apply(this,[n,r])}};!function(e){e.SEGMENT_LAST_SENT_HASH_KEY="HIGHLIGHT_SEGMENT_LAST_SENT_HASH_KEY",e.SESSION_ID="sessionID",e.SESSION_DATA="sessionData",e.USER_IDENTIFIER="highlightIdentifier",e.USER_OBJECT="highlightUserObject"}(u||(u={}));let oT=e=>`${u.SESSION_DATA}_${e}`,oy="",ov=()=>oy,og=e=>{e&&(oy=e)},om=()=>{var e;return null!=(e=oh(u.SESSION_ID))?e:""},oO=e=>{of(u.SESSION_ID,e)},oS=e=>JSON.parse(oh(oT(e))||"{}"),ob=e=>{e||(e=om());let t=oS(e);if(t&&t.lastPushTime&&Date.now()-t.lastPushTime<9e5)return t;o_(oT(e))},oR=function(e){if(!(null!=e&&e.sessionSecureID))return;let t=e.sessionSecureID;og(t),of(oT(t),JSON.stringify(e))},ow=function(){let e=oc.getItem(u.SESSION_ID);oO(e);let t=oT(e),n=oc.getItem(t);try{oR(JSON.parse(n))}catch(e){}},oL=(e,t,n)=>{let r=oA(t,e.headers,n);return b(S({},e),{headers:r})},oA=(e,t,n)=>{var r,i;let o=S({},t);return n?null==(r=Object.keys(o))||r.forEach(e=>{[...n].includes(null==e?void 0:e.toLowerCase())||(o[e]="[REDACTED]")}):null==(i=Object.keys(o))||i.forEach(t=>{[...oN,...e].includes(null==t?void 0:t.toLowerCase())&&(o[t]="[REDACTED]")}),o},oN=["authorization","cookie","proxy-authorization","token"],oC=["https://www.googleapis.com/identitytoolkit","https://securetoken.googleapis.com"],oI="X-Highlight-Request",oP=e=>{let t=e;return e.startsWith("https://")||e.startsWith("http://")||(t=`${window.location.origin}${t}`),t.replace(/\/+$/,"")},ok=(e,{headersToRedact:t,headersToRecord:n,requestResponseSanitizer:r})=>{var i,o;let s=e;if(r){let e=!0;try{s.request.body=JSON.parse(s.request.body)}catch(t){e=!1}let t=!0;try{s.response.body=JSON.parse(s.response.body)}catch(e){t=!1}try{s=r(s)}catch(e){}finally{e=e&&!!(null!=(i=null==s?void 0:s.request)&&i.body),t=t&&!!(null!=(o=null==s?void 0:s.response)&&o.body),e&&(s.request.body=JSON.stringify(s.request.body)),t&&(s.response.body=JSON.stringify(s.response.body))}if(!s)return null}let a=s,{request:u,response:c}=a,l=R(a,["request","response"]);return S({request:oL(u,t,n),response:oL(c,t,n)},l)},ox=(e,t,n,r)=>{e.sort((e,t)=>e.responseEnd-t.responseEnd);let i=e.reduce((e,t)=>{let r=oP(t.name);return t.initiatorType===n?e[n][r]=[...e[n][r]||[],t]:e.others[r]=[...e.others[r]||[],t],e},{xmlhttprequest:{},others:{},fetch:{}}),o={};for(let e in o=t.reduce((e,t)=>{let n=oP(t.request.url);return e[n]=[...e[n]||[],t],e},o),i[n]){let t=i[n][e],r=o[e];if(!r)continue;let s=Math.max(t.length-r.length,0);for(let e=s;e<t.length;e++)t[e]&&(t[e].requestResponsePair=r[e-s])}let s=[];for(let e in i)for(let t in i[e])s=s.concat(i[e][t]);return s.sort((e,t)=>e.fetchStart-t.fetchStart).reduce((e,t)=>{let n=t.requestResponsePair;return(!n||(n=ok(t.requestResponsePair,r)))&&(t.toJSON=function(){let e=window.performance.timeOrigin;return{initiatorType:this.initiatorType,startTimeAbs:e+this.startTime,connectStartAbs:e+this.connectStart,connectEndAbs:e+this.connectEnd,domainLookupStartAbs:e+this.domainLookupStart,domainLookupEndAbs:e+this.domainLookupEnd,fetchStartAbs:e+this.fetchStart,redirectStartAbs:e+this.redirectStart,redirectEndAbs:e+this.redirectEnd,requestStartAbs:e+this.requestStart,responseStartAbs:e+this.responseStart,responseEndAbs:e+this.responseEnd,secureConnectionStartAbs:e+this.secureConnectionStart,workerStartAbs:e+this.workerStart,name:this.name,transferSize:this.transferSize,encodedBodySize:this.encodedBodySize,decodedBodySize:this.decodedBodySize,nextHopProtocol:this.nextHopProtocol,requestResponsePairs:n}},e.push(t)),e},[])},oD=(e,t)=>e.toLocaleLowerCase().includes("https://pub.highlight.io")||e.toLocaleLowerCase().includes("pub.highlight.io")||e.toLocaleLowerCase().includes("otel.highlight.io")||t.some(t=>e.toLocaleLowerCase().includes(t)),oM=(e,t,n)=>!oD(e,t)||oU(e,null!=n?n:[],[]),oU=(e,t,n)=>{var r;if(n.some(t=>e.toLowerCase().includes(t)))return!1;let i=[];!0===t?(i=["localhost",/^\//],null!=(r=null==window?void 0:window.location)&&r.host&&i.push(window.location.host)):t instanceof Array&&(i=t);let o=!1;return i.forEach(t=>{e.match(t)&&(o=!0)}),o},oB=()=>{let e=function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,i=0;i<10;i++)t+=n.charAt(Math.floor(Math.random()*r));return t}(0),t=sM(),n=null==t?void 0:t.spanContext().traceId;return[ov(),null!=n?n:e]},oj=(e,t)=>e+"/"+t,oF=(e,t,n,r,i,o)=>{let s=XMLHttpRequest.prototype,a=s.open,u=s.send,c=s.setRequestHeader;return s.open=function(e,t){return"string"==typeof t?this._url=t:this._url=t.toString(),this._method=e,this._requestHeaders={},this._shouldRecordHeaderAndBody=!r.some(e=>this._url.toLowerCase().includes(e)),a.apply(this,arguments)},s.setRequestHeader=function(e,t){return this._requestHeaders[e]=t,c.apply(this,arguments)},s.send=function(s){if(!oM(this._url,t,n))return u.apply(this,arguments);let[a,c]=oB();oU(this._url,n,r)&&this.setRequestHeader(oI,oj(a,c));let l=this._shouldRecordHeaderAndBody,p={sessionSecureID:a,id:c,url:this._url,verb:this._method,headers:l?this._requestHeaders:{},body:void 0};if(l&&s){let e=oH(s,p.url);e&&(this._body=e,p.body=oX(e,i,o,p.headers))}return this.addEventListener("load",function(){return L(this,null,function*(){let t={status:this.status,headers:{},body:void 0};if(l){let e=this.getAllResponseHeaders().trim().split(/[\r\n]+/),n={};if(e.forEach(function(e){let t=e.split(": ");n[t.shift()]=t.join(": ")}),t.headers=n,s){let e=oH(s,p.url);e&&(p.body=oX(e,i,o,t.headers))}if(""===this.responseType||"text"===this.responseType)t.body=oX(this.responseText,i,o,t.headers),t.size=8*this.responseText.length;else if("blob"===this.responseType){if(this.response instanceof Blob)try{let e=yield this.response.text();t.body=oX(e,i,o,t.headers),t.size=this.response.size}catch(e){}}else try{t.body=oX(this.response,i,o,t.headers)}catch(e){}}e({request:p,response:t,urlBlocked:!l})})}),this.addEventListener("error",function(){return L(this,null,function*(){e({request:p,response:{status:this.status,headers:void 0,body:void 0},urlBlocked:!1})})}),u.apply(this,arguments)},()=>{s.open=a,s.send=u,s.setRequestHeader=c}},oH=(e,t)=>{if("string"==typeof e){if(!((null!=t&&t.includes("localhost")||null!=t&&t.includes("highlight.run"))&&e.includes("pushPayload")))return e}else if("object"==typeof e||"number"==typeof e||"boolean"==typeof e)return z(e);return null},oV={"application/json":0x4000000,"text/plain":0x4000000},oX=(e,t,n,r)=>{var i,o,s;let a=65536;if(r){let e="";e="function"==typeof r.get?null!=(i=r.get("content-type"))?i:"":null!=(o=r["content-type"])?o:"";try{e=e.split(";")[0]}catch(e){}a=null!=(s=oV[e])?s:65536}if(e){if(t)try{let n=JSON.parse(e);Array.isArray(n)?n.forEach(e=>{Object.keys(e).forEach(n=>{t.includes(n.toLocaleLowerCase())&&(e[n]="[REDACTED]")})}):Object.keys(n).forEach(e=>{t.includes(e.toLocaleLowerCase())&&(n[e]="[REDACTED]")}),e=JSON.stringify(n)}catch(e){}if(n)try{let t=JSON.parse(e);Object.keys(t).forEach(e=>{n.includes(e.toLocaleLowerCase())||(t[e]="[REDACTED]")}),e=JSON.stringify(t)}catch(e){}}try{e=e.slice(0,a)}catch(e){}return e},oG=(e,t,n,r,i,o)=>{let s=window._fetchProxy;return window._fetchProxy=function(a,u){let{method:c,url:l}=oq(a,u);if(!oM(l,t,n))return s.call(this,a,u);let[p,d]=oB();if(oU(l,n,r)){let e=new Headers((u=u||{}).headers);a instanceof Request&&[...a.headers].forEach(([t,n])=>e.set(t,n)),e.set(oI,oj(p,d)),u.headers=Object.fromEntries(e.entries())}let h={sessionSecureID:p,id:d,headers:{},body:void 0,url:l,verb:c},f=!r.some(e=>l.toLowerCase().includes(e));f&&(h.headers=Object.fromEntries(new Headers(null==u?void 0:u.headers).entries()),h.body=oX(null==u?void 0:u.body,i,o,null==u?void 0:u.headers));let _=s.call(this,a,u);return oK(_,h,e,f,i,o),_},()=>{window._fetchProxy=s}},oq=(e,t)=>({method:t&&t.method||"object"==typeof e&&"method"in e&&e.method||"GET",url:"object"==typeof e?"url"in e&&e.url?e.url:e.toString():e}),oK=(e,t,n,r,i,o)=>{e.then(e=>L(void 0,null,function*(){let s={body:void 0,headers:void 0,status:0,size:0},a=!1,u=!r;"stack"in e||e instanceof Error?(s=b(S({},s),{body:e.message,status:0,size:void 0}),a=!0):"status"in e&&(s=b(S({},s),{status:e.status}),r&&(s.body=yield oz(e,o,i),s.headers=Object.fromEntries(e.headers.entries()),s.size=8*s.body.length),("opaque"===e.type||"opaqueredirect"===e.type)&&(u=!0,s=b(S({},s),{body:"CORS blocked request"})),a=!0),a&&n({request:t,response:s,urlBlocked:u})})).catch(()=>{})},oz=(e,t,n)=>L(void 0,null,function*(){let r;try{let i=e.clone().body;if(i){let o=i.getReader(),s=new TextDecoder,a,u="";for(;!(a=yield o.read()).done;){let e=a.value;u+=s.decode(e)}r=u,r=oX(r,n,t,e.headers)}else r=""}catch(e){r=`Unable to clone response: ${e}`}return r});!function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"}(c||(c={}));var o$=["OTEL_SDK_DISABLED"],oW=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"],oY=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"],oJ=1/0,oQ={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:eO.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:oJ,OTEL_ATTRIBUTE_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:oJ,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:128,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:oJ,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:128,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:c.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"},oZ={ALL:eO.ALL,VERBOSE:eO.VERBOSE,DEBUG:eO.DEBUG,INFO:eO.INFO,WARN:eO.WARN,ERROR:eO.ERROR,NONE:eO.NONE},o0="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof global?global:{};function o1(){var e=function(e){var t={};for(var n in oQ)if("OTEL_LOG_LEVEL"===n)!function(e,t,n){var r=n[e];if("string"==typeof r){var i=oZ[r.toUpperCase()];null!=i&&(t[e]=i)}}(n,t,e);else if(o$.indexOf(n)>-1)!function(e,t,n){if(void 0!==n[e]){var r=String(n[e]);t[e]="true"===r.toLowerCase()}}(n,t,e);else if(oW.indexOf(n)>-1)!function(e,t,n,r,i){if(void 0===r&&(r=-1/0),void 0===i&&(i=1/0),void 0!==n[e]){var o=Number(n[e]);isNaN(o)||(o<r?t[e]=r:o>i?t[e]=i:t[e]=o)}}(n,t,e);else if(oY.indexOf(n)>-1)!function(e,t,n,r){void 0===r&&(r=",");var i=n[e];"string"==typeof i&&(t[e]=i.split(r).map(function(e){return e.trim()}))}(n,t,e);else{var r=e[n];null!=r&&(t[n]=String(r))}return t}(o0);return Object.assign({},oQ,e)}!function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"}(l||(l={}));var o2=function(){function e(){var e=this;this._promise=new Promise(function(t,n){e._resolve=t,e._reject=n})}return Object.defineProperty(e.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),e.prototype.resolve=function(e){this._resolve(e)},e.prototype.reject=function(e){this._reject(e)},e}(),o3=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},o4=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},o5=function(){function e(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new o2}return Object.defineProperty(e.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),e.prototype.call=function(){for(var e,t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((e=this._callback).call.apply(e,o4([this._that],o3(n),!1))).then(function(e){return t._deferred.resolve(e)},function(e){return t._deferred.reject(e)})}catch(e){this._deferred.reject(e)}}return this._deferred.promise},e}(),o6={parseKeyPairsIntoRecord:function(e){return"string"!=typeof e||0===e.length?{}:e.split(",").map(function(e){return function(e){var t=e.split(";");if(!(t.length<=0)){var n=t.shift();if(n){var r=n.indexOf("=");if(!(r<=0)){var i,o=decodeURIComponent(n.substring(0,r).trim()),s=decodeURIComponent(n.substring(r+1).trim());return t.length>0&&(i=eg(t.join(";"))),{key:o,value:s,metadata:i}}}}}(e)}).filter(function(e){return void 0!==e&&e.value.length>0}).reduce(function(e,t){return e[t.key]=t.value,e},{})}},o8=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s};function o9(e,t){return tf.warn("Timeout must be greater than 0",e),t}var o7=function(){function e(e){var t,n,r;void 0===e&&(e={}),this._sendingPromises=[],this.url=this.getDefaultUrl(e),"string"==typeof e.hostname&&(this.hostname=e.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new o5(this._shutdown,this),this._concurrencyLimit="number"==typeof e.concurrencyLimit?e.concurrencyLimit:30,this.timeoutMillis="number"==typeof(t=e.timeoutMillis)?t<=0?o9(t,1e4):t:(r=Number(null!==(n=o1().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)&&void 0!==n?n:o1().OTEL_EXPORTER_OTLP_TIMEOUT))<=0?o9(r,1e4):r,this.onInit(e)}return e.prototype.export=function(e,t){if(this._shutdownOnce.isCalled){t({code:l.FAILED,error:Error("Exporter has been shutdown")});return}if(this._sendingPromises.length>=this._concurrencyLimit){t({code:l.FAILED,error:Error("Concurrent export limit reached")});return}this._export(e).then(function(){t({code:l.SUCCESS})}).catch(function(e){t({code:l.FAILED,error:e})})},e.prototype._export=function(e){var t=this;return new Promise(function(n,r){try{tf.debug("items to be sent",e),t.send(e,n,r)}catch(e){r(e)}})},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype.forceFlush=function(){return Promise.all(this._sendingPromises).then(function(){})},e.prototype._shutdown=function(){return tf.debug("shutdown started"),this.onShutdown(),this.forceFlush()},e}(),se=function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),st=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.name="OTLPExporterError",i.data=r,i.code=n,i}return se(t,e),t}(Error),sn=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},sr=function(){function e(e){this._parameters=e}return e.prototype.send=function(e,t){var n=this;return new Promise(function(r){var i=new XMLHttpRequest;i.timeout=t,i.open("POST",n._parameters.url),Object.entries(n._parameters.headers).forEach(function(e){var t=sn(e,2),n=t[0],r=t[1];i.setRequestHeader(n,r)}),i.ontimeout=function(e){r({status:"failure",error:Error("XHR request timed out")})},i.onreadystatechange=function(){i.status>=200&&i.status<=299?(tf.debug("XHR success"),r({status:"success"})):i.status&&[429,502,503,504].includes(i.status)?r({status:"retryable",retryInMillis:function(e){if(null==e)return -1;var t=Number.parseInt(e,10);if(Number.isInteger(t))return t>0?1e3*t:-1;var n=new Date(e).getTime()-Date.now();return n>=0?n:0}(i.getResponseHeader("Retry-After"))}):0!==i.status&&r({status:"failure",error:Error("XHR request failed with non-retryable status")})},i.onabort=function(){r({status:"failure",error:Error("XHR request aborted")})},i.onerror=function(){r({status:"failure",error:Error("XHR request errored")})},i.send(new Blob([e],{type:n._parameters.headers["Content-Type"]}))})},e.prototype.shutdown=function(){},e}(),si=function(){function e(e){this._params=e}return e.prototype.send=function(e){var t=this;return new Promise(function(n){navigator.sendBeacon(t._params.url,new Blob([e],{type:t._params.blobType}))?(tf.debug("SendBeacon success"),n({status:"success"})):n({status:"failure",error:Error("SendBeacon failed")})})},e.prototype.shutdown=function(){},e}(),so=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},ss=function(){function e(e){this._transport=e}return e.prototype.retry=function(e,t,n){var r=this;return new Promise(function(i,o){setTimeout(function(){r._transport.send(e,t).then(i,o)},n)})},e.prototype.send=function(e,t){var n,r,i,o,s;return r=this,i=void 0,o=void 0,s=function(){var r,i,o,s,a,u,c;return so(this,function(l){switch(l.label){case 0:return r=Date.now()+t,[4,this._transport.send(e,t)];case 1:i=l.sent(),o=5,s=1e3,l.label=2;case 2:return"retryable"===i.status&&o>0?(o--,a=Math.max(Math.min(s,5e3)+(.4*Math.random()-.2),0),s*=1.5,(u=null!==(n=i.retryInMillis)&&void 0!==n?n:a)>(c=r-Date.now())?[2,i]:[4,this.retry(e,c,u)]):[3,4];case 3:return i=l.sent(),[3,2];case 4:return[2,i]}})},new(o||(o=Promise))(function(e,t){function n(e){try{u(s.next(e))}catch(e){t(e)}}function a(e){try{u(s.throw(e))}catch(e){t(e)}}function u(t){var r;t.done?e(t.value):((r=t.value)instanceof o?r:new o(function(e){e(r)})).then(n,a)}u((s=s.apply(r,i||[])).next())})},e.prototype.shutdown=function(){return this._transport.shutdown()},e}(),sa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),su=function(e){function t(t,n,r){void 0===t&&(t={});var i,o,s=e.call(this,t)||this;return s._serializer=n,t.headers||"function"!=typeof navigator.sendBeacon?s._transport=new ss({transport:new sr({headers:Object.assign({},(void 0===(i=t.headers)&&(i={}),o={},Object.entries(i).forEach(function(e){var t=o8(e,2),n=t[0],r=t[1];void 0!==r?o[n]=String(r):tf.warn('Header "'+n+'" has invalid value ('+r+") and will be ignored")}),o),o6.parseKeyPairsIntoRecord(o1().OTEL_EXPORTER_OTLP_HEADERS),{"Content-Type":r}),url:s.url})}.transport):s._transport=new si({url:s.url,blobType:r}),s}return sa(t,e),t.prototype.onInit=function(){},t.prototype.onShutdown=function(){},t.prototype.send=function(e,t,n){var r=this;if(this._shutdownOnce.isCalled){tf.debug("Shutdown already started. Cannot send objects");return}var i=this._serializer.serializeRequest(e);if(null==i){n(Error("Could not serialize message"));return}var o=this._transport.send(i,this.timeoutMillis).then(function(e){"success"===e.status?t():"failure"===e.status&&e.error?n(e.error):"retryable"===e.status?n(new st("Export failed with retryable status")):n(new st("Export failed with unknown error"))},n);this._sendingPromises.push(o);var s=function(){var e=r._sendingPromises.indexOf(o);r._sendingPromises.splice(e,1)};o.then(s,s)},t}(o7);function sc(e){return e>=48&&e<=57?e-48:e>=97&&e<=102?e-87:e-55}function sl(e){for(var t=new Uint8Array(e.length/2),n=0,r=0;r<e.length;r+=2){var i=sc(e.charCodeAt(r)),o=sc(e.charCodeAt(r+1));t[n++]=i<<4|o}return t}function sp(e){var t=BigInt(1e9);return BigInt(e[0])*t+BigInt(e[1])}function sd(e){var t;return{low:Number(BigInt.asUintN(32,t=sp(e))),high:Number(BigInt.asUintN(32,t>>BigInt(32)))}}var sh="undefined"!=typeof BigInt?function(e){return sp(e).toString()}:function(e){return 1e9*e[0]+e[1]};function sf(e){return e}function s_(e){if(void 0!==e)return sl(e)}var sE={encodeHrTime:sd,encodeSpanContext:sl,encodeOptionalSpanContext:s_},sT=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s};function sy(e){return Object.keys(e).map(function(t){return function e(t,n){return{key:t,value:function t(n){var r=typeof n;return"string"===r?{stringValue:n}:"number"===r?Number.isInteger(n)?{intValue:n}:{doubleValue:n}:"boolean"===r?{boolValue:n}:n instanceof Uint8Array?{bytesValue:n}:Array.isArray(n)?{arrayValue:{values:n.map(t)}}:"object"===r&&null!=n?{kvlistValue:{values:Object.entries(n).map(function(t){var n=sT(t,2);return e(n[0],n[1])})}}:{}}(n)}}(t,e[t])})}var sv=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},sg=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},sm={serializeRequest:function(e){var t={resourceSpans:function(e,t){for(var n=function(e){var t,n,r=new Map;try{for(var i=sv(e),o=i.next();!o.done;o=i.next()){var s=o.value,a=r.get(s.resource);a||(a=new Map,r.set(s.resource,a));var u=s.instrumentationLibrary.name+"@"+(s.instrumentationLibrary.version||"")+":"+(s.instrumentationLibrary.schemaUrl||""),c=a.get(u);c||(c=[],a.set(u,c)),c.push(s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e),r=[],i=n.entries(),o=i.next();!o.done;){for(var s=sg(o.value,2),a=s[0],u=s[1],c=[],l=u.values(),p=l.next();!p.done;){var d=p.value;if(d.length>0){var h,f=d.map(function(e){return function(e,t){var n,r=e.spanContext(),i=e.status;return{traceId:t.encodeSpanContext(r.traceId),spanId:t.encodeSpanContext(r.spanId),parentSpanId:t.encodeOptionalSpanContext(e.parentSpanId),traceState:null===(n=r.traceState)||void 0===n?void 0:n.serialize(),name:e.name,kind:null==e.kind?0:e.kind+1,startTimeUnixNano:t.encodeHrTime(e.startTime),endTimeUnixNano:t.encodeHrTime(e.endTime),attributes:sy(e.attributes),droppedAttributesCount:e.droppedAttributesCount,events:e.events.map(function(e){return{attributes:e.attributes?sy(e.attributes):[],name:e.name,timeUnixNano:t.encodeHrTime(e.time),droppedAttributesCount:e.droppedAttributesCount||0}}),droppedEventsCount:e.droppedEventsCount,status:{code:i.code,message:i.message},links:e.links.map(function(e){return function(e,t){var n;return{attributes:e.attributes?sy(e.attributes):[],spanId:t.encodeSpanContext(e.context.spanId),traceId:t.encodeSpanContext(e.context.traceId),traceState:null===(n=e.context.traceState)||void 0===n?void 0:n.serialize(),droppedAttributesCount:e.droppedAttributesCount||0}}(e,t)}),droppedLinksCount:e.droppedLinksCount}}(e,t)});c.push({scope:{name:(h=d[0].instrumentationLibrary).name,version:h.version},spans:f,schemaUrl:d[0].instrumentationLibrary.schemaUrl})}p=l.next()}var _={resource:{attributes:sy(a.attributes),droppedAttributesCount:0},scopeSpans:c,schemaUrl:void 0};r.push(_),o=i.next()}return r}(e,function(e){if(void 0===e)return sE;var t,n,r=null===(t=e.useLongBits)||void 0===t||t,i=null!==(n=e.useHex)&&void 0!==n&&n;return{encodeHrTime:r?sd:sh,encodeSpanContext:i?sf:sl,encodeOptionalSpanContext:i?sf:s_}}({useHex:!0,useLongBits:!1}))};return new TextEncoder().encode(JSON.stringify(t))},deserializeResponse:function(e){return JSON.parse(new TextDecoder().decode(e))}},sO=function(){var e=function(t,n){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sS=function(e){function t(t){return void 0===t&&(t={}),e.call(this,t,sm,"application/json")||this}return sO(t,e),t.prototype.getDefaultUrl=function(e){return"string"==typeof e.url?e.url:"http://localhost:4318/v1/traces"},t}(su);class sb extends Error{constructor(e,t){super(`${sb.extractMessage(e)}: ${JSON.stringify({response:e,request:t})}`),Object.setPrototypeOf(this,sb.prototype),this.response=e,this.request=t,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,sb)}static extractMessage(e){var t,n,r;return null!=(r=null==(n=null==(t=e.errors)?void 0:t[0])?void 0:n.message)?r:`GraphQL Error (Code: ${e.status})`}}(p||(p={})).BillingQuotaExceeded="BillingQuotaExceeded";let sR=[p.BillingQuotaExceeded.toString()],sw=e=>{var t;return(null==(t=e.response.errors)?void 0:t.find(e=>sR.includes(e.message)))===void 0},sL=e=>{let t=(n,r,i,o,s=0)=>L(void 0,null,function*(){try{return yield n()}catch(a){if(a instanceof sb&&!sw(a))throw a;if(s<10)return yield new Promise(e=>setTimeout(e,1e3+500*Math.pow(2,s))),yield t(n,r,i,o,s+1);throw console.error(`highlight.io: [${e||e}] data request failed after ${s} retries`),a}});return t};class sA extends sS{constructor(e){super(e),w(this,"xhrTraceExporter"),this.xhrTraceExporter=new sS(b(S({},null!=e?e:{}),{headers:{}}))}send(e,t,n){let r=0,i=o=>{++r>10?(console.error(`[highlight.io] failed to export OTeL traces: ${o.message}`,o),n(o)):this.xhrTraceExporter.send(e,t,i)};super.send(e,t,i)}}function sN(){return!1}let sC=class e extends n_{constructor(t={}){super(e.moduleName,e.version,t),w(this,"_spansData",new WeakMap),w(this,"_zonePatched"),w(this,"_wrappedListeners",new WeakMap),w(this,"_eventsSpanMap",new WeakMap),w(this,"_shouldPreventSpanCreation"),this._shouldPreventSpanCreation="function"==typeof(null==t?void 0:t.shouldPreventSpanCreation)?t.shouldPreventSpanCreation:sN}init(){}_checkForTimeout(e,t){var n,r,i,o;let s=this._spansData.get(t);s&&("setTimeout"===e.source?s.hrTimeLastTimeout=(r=tZ(("number"!=typeof(n=tU.timeOrigin)&&(n=tU.timing&&tU.timing.fetchStart),n)),i=tZ(tU.now()),(o=[r[0]+i[0],r[1]+i[1]])[1]>=1e9&&(o[1]-=1e9,o[0]+=1),o):"Promise.then"!==e.source&&"setTimeout"!==e.source&&(s.hrTimeLastTimeout=void 0))}_allowEventName(e){return!0}_createSpan(e,t){var n;let r=null==e?void 0:e.target,i=null==e?void 0:e.type;if(!(r instanceof HTMLElement)||!r.getAttribute||r.hasAttribute("disabled")||!this._allowEventName(i))return;let o=function e(t,n){if(t.nodeType===Node.DOCUMENT_NODE)return"/";var r=function(e,t){var n=e.nodeType,r=function(e){if(!e.parentNode)return 0;var t=[e.nodeType];e.nodeType===Node.CDATA_SECTION_NODE&&t.push(Node.TEXT_NODE);var n=Array.from(e.parentNode.childNodes);return(n=n.filter(function(n){var r=n.localName;return t.indexOf(n.nodeType)>=0&&r===e.localName})).length>=1?n.indexOf(e)+1:0}(e),i="";if(n===Node.ELEMENT_NODE){var o=e.getAttribute("id");if(t&&o)return'//*[@id="'+o+'"]';i=e.localName}else if(n===Node.TEXT_NODE||n===Node.CDATA_SECTION_NODE)i="text()";else{if(n!==Node.COMMENT_NODE)return"";i="comment()"}return i&&r>1?"/"+i+"["+r+"]":"/"+i}(t,n);if(n&&r.indexOf("@id")>0)return r;var i="";return t.parentNode&&(i+=e(t.parentNode,!1)),i+=r}(r,!0);try{let s=this.tracer.startSpan(i,{attributes:{"event.type":i,"event.tag":r.tagName,"event.xpath":o,"event.id":r.id,"event.text":null!=(n=r.textContent)?n:"","event.url":window.location.href,"viewport.width":window.innerWidth,"viewport.height":window.innerHeight}},t?tA.setSpan(th.active(),t):void 0);return e instanceof MouseEvent&&(s.setAttribute("event.x",e.clientX),s.setAttribute("event.y",e.clientY),s.setAttribute("event.relativeX",e.clientX/window.innerWidth),s.setAttribute("event.relativeY",e.clientY/window.innerHeight),"scroll"===i&&(s.setAttribute("event.scrollX",window.scrollX),s.setAttribute("event.scrollY",window.scrollY))),!0===this._shouldPreventSpanCreation(i,r,s)?void 0:(this._spansData.set(s,{taskCount:0}),s)}catch(e){this._diag.error("failed to start create new user interaction span",e)}}_decrementTask(e){let t=this._spansData.get(e);t&&(t.taskCount--,0===t.taskCount&&this._tryToEndSpan(e,t.hrTimeLastTimeout))}_getCurrentSpan(e){let t=e.get("OT_ZONE_CONTEXT");return t&&tA.getSpan(t)}_incrementTask(e){let t=this._spansData.get(e);t&&t.taskCount++}addPatchedListener(e,t,n,r){let i=this._wrappedListeners.get(n);i||(i=new Map,this._wrappedListeners.set(n,i));let o=i.get(t);return o||(o=new Map,i.set(t,o)),!o.has(e)&&(o.set(e,r),!0)}removePatchedListener(e,t,n){let r=this._wrappedListeners.get(n);if(!r)return;let i=r.get(t);if(!i)return;let o=i.get(e);return o&&(i.delete(e),0===i.size&&(r.delete(t),0===r.size&&this._wrappedListeners.delete(n))),o}_invokeListener(e,t,n){return"function"==typeof e?e.apply(t,n):e.handleEvent(n[0])}_patchAddEventListener(){let e=this,t=new Map;return n=>function(r,i,o){if(!i)return n.call(this,r,i,o);let s=o&&"object"==typeof o&&o.once,a=function(...n){var o;let a;let u=n[0];if(!(null!=u&&u.type)||Date.now()-(null!=(o=t.get(u.type))?o:0)<1e3/60)return e._invokeListener(i,this,n);t.set(u.type,Date.now()),u&&(a=e._eventsSpanMap.get(u)),s&&e.removePatchedListener(this,r,i);let c=e._createSpan(u,a);return c?(u&&e._eventsSpanMap.set(u,c),th.with(tA.setSpan(th.active(),c),()=>{let t=e._invokeListener(i,this,n);return c.end(),t})):e._invokeListener(i,this,n)};if(e.addPatchedListener(this,r,i,a))return n.call(this,r,a,o)}}_patchRemoveEventListener(){let e=this;return t=>function(n,r,i){let o=e.removePatchedListener(this,n,r);return o?t.call(this,n,o,i):t.call(this,n,r,i)}}_getPatchableEventTargets(){return window.EventTarget?[EventTarget.prototype]:[Node.prototype,Window.prototype]}_patchHistoryApi(){this._unpatchHistoryApi(),this._wrap(history,"replaceState",this._patchHistoryMethod()),this._wrap(history,"pushState",this._patchHistoryMethod()),this._wrap(history,"back",this._patchHistoryMethod()),this._wrap(history,"forward",this._patchHistoryMethod()),this._wrap(history,"go",this._patchHistoryMethod())}_patchHistoryMethod(){let e=this;return t=>function(...n){let r=`${location.pathname}${location.hash}${location.search}`,i=t.apply(this,n),o=`${location.pathname}${location.hash}${location.search}`;return r!==o&&e._updateInteractionName(o),i}}_unpatchHistoryApi(){nT(history.replaceState)&&this._unwrap(history,"replaceState"),nT(history.pushState)&&this._unwrap(history,"pushState"),nT(history.back)&&this._unwrap(history,"back"),nT(history.forward)&&this._unwrap(history,"forward"),nT(history.go)&&this._unwrap(history,"go")}_updateInteractionName(e){let t=tA.getSpan(th.active());t&&"function"==typeof t.updateName&&t.updateName(`Navigation: ${e}`)}_patchZoneCancelTask(){let e=this;return t=>function(n){let r=Zone.current,i=e._getCurrentSpan(r);return i&&e._shouldCountTask(n,r)&&e._decrementTask(i),t.call(this,n)}}_patchZoneScheduleTask(){let e=this;return t=>function(n){let r=Zone.current,i=e._getCurrentSpan(r);return i&&e._shouldCountTask(n,r)&&(e._incrementTask(i),e._checkForTimeout(n,i)),t.call(this,n)}}_patchZoneRunTask(){let e=this;return t=>function(n,r,i){let o;let s=Array.isArray(i)&&i[0]instanceof Event?i[0]:void 0;if(null==s?void 0:s.target){if(o=e._createSpan(s))return e._incrementTask(o),this.run(()=>{try{return th.with(tA.setSpan(th.active(),o),()=>{let e=Zone.current;return n._zone=e,t.call(e,n,r,i)})}finally{e._decrementTask(o)}})}else o=e._getCurrentSpan(this);try{return t.call(this,n,r,i)}finally{o&&e._shouldCountTask(n,this)&&e._decrementTask(o)}}}_shouldCountTask(e,t){if(e._zone&&(t=e._zone),!t||!e.data||e.data.isPeriodic)return!1;let n=this._getCurrentSpan(t);return!!(n&&this._spansData.get(n))&&("macroTask"===e.type||"microTask"===e.type)}_tryToEndSpan(e,t){e&&this._spansData.get(e)&&(e.end(t),this._spansData.delete(e))}enable(){let t=this._getZoneWithPrototype();this._diag.debug("applying patch to",e.moduleName,e.version,"zone:",!!t),t?(nT(t.prototype.runTask)&&(this._unwrap(t.prototype,"runTask"),this._diag.debug("removing previous patch from method runTask")),nT(t.prototype.scheduleTask)&&(this._unwrap(t.prototype,"scheduleTask"),this._diag.debug("removing previous patch from method scheduleTask")),nT(t.prototype.cancelTask)&&(this._unwrap(t.prototype,"cancelTask"),this._diag.debug("removing previous patch from method cancelTask")),this._zonePatched=!0,this._wrap(t.prototype,"runTask",this._patchZoneRunTask()),this._wrap(t.prototype,"scheduleTask",this._patchZoneScheduleTask()),this._wrap(t.prototype,"cancelTask",this._patchZoneCancelTask())):(this._zonePatched=!1,this._getPatchableEventTargets().forEach(e=>{nT(e.addEventListener)&&(this._unwrap(e,"addEventListener"),this._diag.debug("removing previous patch from method addEventListener")),nT(e.removeEventListener)&&(this._unwrap(e,"removeEventListener"),this._diag.debug("removing previous patch from method removeEventListener")),this._wrap(e,"addEventListener",this._patchAddEventListener()),this._wrap(e,"removeEventListener",this._patchRemoveEventListener())})),this._patchHistoryApi()}disable(){let t=this._getZoneWithPrototype();this._diag.debug("removing patch from",e.moduleName,e.version,"zone:",!!t),t&&this._zonePatched?(nT(t.prototype.runTask)&&this._unwrap(t.prototype,"runTask"),nT(t.prototype.scheduleTask)&&this._unwrap(t.prototype,"scheduleTask"),nT(t.prototype.cancelTask)&&this._unwrap(t.prototype,"cancelTask")):this._getPatchableEventTargets().forEach(e=>{nT(e.addEventListener)&&this._unwrap(e,"addEventListener"),nT(e.removeEventListener)&&this._unwrap(e,"removeEventListener")}),this._unpatchHistoryApi()}_getZoneWithPrototype(){return window.Zone}};w(sC,"version","0.1.0"),w(sC,"moduleName","user-interaction");let sI="highlight.record",sP=e=>{var t,n,i,o,s;if(void 0!==r){console.warn("OTEL already initialized. Skipping...");return}let a=e.backendUrl||"https://pub.highlight.io",u=[...null!=(n=null==(t=e.networkRecordingOptions)?void 0:t.urlBlocklist)?n:[],...oC],c=null!=(i=e.environment)?i:"production";r=new r0({resource:new iC({"service.name":null!=(o=e.serviceName)?o:"highlight-browser","deployment.environment":c,"highlight.project_id":e.projectId,"highlight.session_id":e.sessionSecureId})});let l=new sk(new sA({url:e.otlpEndpoint+"/v1/traces",concurrencyLimit:100,timeoutMillis:3e4,compression:"gzip",keepAlive:!0,httpAgentOptions:{timeout:3e4,keepAlive:!0}}),{maxExportBatchSize:100,maxQueueSize:1e3});r.addSpanProcessor(l);let p=[new it({applyCustomAttributesOnSpan:{documentLoad:sH,documentFetch:sH,resourceFetch:sX}}),new sC];null!=(s=e.networkRecordingOptions)&&s.enabled&&(p.push(new iT({propagateTraceHeaderCorsUrls:sq(e.tracingOrigins),applyCustomAttributesOnSpan:(t,n,r)=>L(void 0,null,function*(){var i,o,s;if(!1===t.attributes[sI])return;let a=t.attributes["http.url"],u=null!=(i=n.method)?i:"GET";if(t.updateName(sB(a,u,n.body)),!(r instanceof Response)){t.setAttributes({"http.response.error":r.message,"http.response.status":r.status});return}sj(t,n.body,n.headers,e.networkRecordingOptions);let c=yield oz(r,null==(o=e.networkRecordingOptions)?void 0:o.bodyKeysToRecord,null==(s=e.networkRecordingOptions)?void 0:s.networkBodyKeysToRedact);t.setAttribute("http.response.body",c)})})),p.push(new iw({propagateTraceHeaderCorsUrls:sq(e.tracingOrigins),applyCustomAttributesOnSpan:(t,n)=>{var r,i;if(!1===t.attributes[sI])return;let o=sB(n._url,n._method,n.responseText);t.updateName(o),sj(t,n._body,n._requestHeaders,e.networkRecordingOptions);let s=oX(n._body,null==(r=e.networkRecordingOptions)?void 0:r.networkBodyKeysToRedact,null==(i=e.networkRecordingOptions)?void 0:i.bodyKeysToRecord,n._requestHeaders);t.setAttribute("http.request.body",s)}}))),function(e){var t,n,r=e.tracerProvider||tA.getTracerProvider(),i=e.meterProvider||tT.getMeterProvider(),o=e.loggerProvider||no.getLoggerProvider();(function(e,t,n,r){for(var i=0,o=e.length;i<o;i++){var s=e[i];t&&s.setTracerProvider(t),n&&s.setMeterProvider(n),r&&s.setLoggerProvider&&s.setLoggerProvider(r),s.getConfig().enabled||s.enable()}})(null!==(n=null===(t=e.instrumentations)||void 0===t?void 0:t.flat())&&void 0!==n?n:[],r,i,o)}({instrumentations:p});let d=new rQ;d.enable(),r.register({contextManager:d,propagator:new t1({propagators:[new tM,new sx({backendUrl:a,otlpEndpoint:e.otlpEndpoint,tracingOrigins:e.tracingOrigins,urlBlocklist:u})]})})};class sk extends rD{onEnd(e){!1!==e.attributes[sI]&&super.onEnd(e)}}class sx extends ne{constructor(e){super(),w(this,"highlightEndpoints"),w(this,"tracingOrigins"),w(this,"urlBlocklist"),this.highlightEndpoints=[e.backendUrl,e.otlpEndpoint],this.tracingOrigins=e.tracingOrigins,this.urlBlocklist=e.urlBlocklist}inject(e,t,n){let r=tA.getSpan(e);if(!r)return;let i=r.attributes["http.url"];if("string"==typeof i&&!sF(i,this.highlightEndpoints,this.tracingOrigins,this.urlBlocklist)){r.setAttribute(sI,!1);return}super.inject(e,t,n)}}let sD=()=>r.getTracer("highlight-browser"),sM=()=>tA.getActiveSpan(),sU=()=>L(void 0,null,function*(){void 0!==r&&(yield r.forceFlush(),r.shutdown())}),sB=(e,t,n)=>{var r,i,o;let s;let a=new URL(e),u=a.pathname,c=`${t.toUpperCase()} - ${u}`;try{if((s="string"==typeof n?JSON.parse(n):n)&&s.query){let e=i9(s.query),t=(null==(r=e.definitions[0])?void 0:r.kind)==="OperationDefinition"?null==(o=null==(i=e.definitions[0])?void 0:i.name)?void 0:o.value:void 0;t&&(c=`${t} (GraphQL: ${a.host+a.pathname})`)}}catch(e){}return c},sj=(e,t,n,r)=>{var i;let o;let s="string"==typeof t?t:String(t),a=e.attributes["http.url"],u=new URL(a);try{(o=t?JSON.parse(s):void 0).operationName&&e.setAttribute("graphql.operation.name",o.operationName)}catch(e){}let c=oA(null!=(i=null==r?void 0:r.networkHeadersToRedact)?i:[],n,null==r?void 0:r.headerKeysToRecord);e.setAttributes({"highlight.type":"http.request","http.request.headers":JSON.stringify(c),"http.request.body":s,"url.full":a,"url.path":u.pathname,"url.query":u.search}),u.searchParams.size>0&&e.setAttributes({"url.query_params":JSON.stringify(Object.fromEntries(u.searchParams))})},sF=(e,t,n,r)=>!(null!=r&&r.some(t=>e.toLowerCase().includes(t)))&&oM(e,t,n),sH=e=>{let t=e.events;Object.entries({unload:sV("unloadEventStart","unloadEventEnd",t),dom_interactive:sV("domInteractive","fetchStart",t),dom_content_loaded:sV("domContentLoadedEventEnd","domContentLoadedEventStart",t),dom_complete:sV("fetchStart","domComplete",t),load_event:sV("loadEventStart","loadEventEnd",t),first_paint:sV("fetchStart","firstPaint",t),first_contentful_paint:sV("fetchStart","firstContentfulPaint",t),domain_lookup:sV("domainLookupStart","domainLookupEnd",t),connect:sV("connectStart","connectEnd",t),request:sV("requestStart","requestEnd",t),response:sV("responseStart","responseEnd",t)}).forEach(([t,n])=>{n>0&&(e.setAttribute(`timings.${t}.ns`,n),e.setAttribute(`timings.${t}.readable`,sG(n)))})};function sV(e,t,n){let r=n.find(t=>t.name===e),i=n.find(e=>e.name===t);if(!r||!i)return 0;let o=1e9*r.time[0]+r.time[1];return 1e9*i.time[0]+i.time[1]-o}let sX=(e,t)=>{Object.entries({domain_lookup:(t.domainLookupEnd-t.domainLookupStart)*1e6,connect:(t.connectEnd-t.connectStart)*1e6,request:(t.responseEnd-t.requestStart)*1e6,response:(t.responseEnd-t.responseStart)*1e6}).forEach(([t,n])=>{n>0&&(e.setAttribute(`timings.${t}.ns`,n),e.setAttribute(`timings.${t}.readable`,sG(n)))})},sG=e=>{if(e>=36e11){let t=e/36e11;return`${Number(t.toFixed(1))}h`}if(e>=6e10){let t=e/6e10;return`${Number(t.toFixed(1))}m`}if(e>=1e9){let t=e/1e9;return`${Number(t.toFixed(1))}s`}if(e>=1e6){let t=e/1e6;return`${Number(t.toFixed(1))}ms`}{if(!(e>=1e3))return`${Number(e.toFixed(1))}ns`;let t=e/1e3;return`${Number(t.toFixed(1))}\xb5s`}},sq=e=>!0===e?[/localhost/,/^\//,new RegExp(window.location.host)]:Array.isArray(e)?e.map(e=>"string"==typeof e?new RegExp(e):e):/^$/,sK=["assert","count","countReset","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","table","time","timeEnd","timeLog","trace","warn"];!function(e){e.DeviceMemory="DeviceMemory",e.ViewportHeight="ViewportHeight",e.ViewportWidth="ViewportWidth",e.ScreenHeight="ScreenHeight",e.ScreenWidth="ScreenWidth",e.ViewportArea="ViewportArea"}(d||(d={})),function(e){e.Device="Device",e.WebVital="WebVital",e.Performance="Performance",e.Frontend="Frontend",e.Backend="Backend"}(h||(h={}));let sz=(e,t,n)=>{let r=window._highlightWebSocketRequestCallback;window._highlightWebSocketRequestCallback=e;let i=window._highlightWebSocketEventCallback;return window._highlightWebSocketEventCallback=e=>{let{message:r,size:i}=e,o=R(e,["message","size"]);t(n.some(t=>e.name.toLowerCase().includes(t))?o:e)},()=>{window._highlightWebSocketRequestCallback=r,window._highlightWebSocketEventCallback=i}},s$=({xhrCallback:e,fetchCallback:t,webSocketRequestCallback:n,webSocketEventCallback:r,disableWebSocketRecording:i,bodyKeysToRedact:o,highlightEndpoints:s,tracingOrigins:a,urlBlocklist:u,bodyKeysToRecord:c})=>{let l=oF(e,s,a,u,o,c),p=oG(t,s,a,u,o,c),d=i?()=>{}:sz(n,r,u);return()=>{l(),p(),d()}};class sW{constructor(e){var t,n;w(this,"disableConsoleRecording"),w(this,"reportConsoleErrors"),w(this,"enablePromisePatch"),w(this,"consoleMethodsToRecord"),w(this,"listeners"),w(this,"errors"),w(this,"messages"),w(this,"options"),w(this,"hasNetworkRecording",!0),w(this,"disableNetworkRecording"),w(this,"enableRecordingNetworkContents"),w(this,"xhrNetworkContents"),w(this,"fetchNetworkContents"),w(this,"disableRecordingWebSocketContents"),w(this,"webSocketNetworkContents"),w(this,"webSocketEventContents"),w(this,"tracingOrigins"),w(this,"networkHeadersToRedact"),w(this,"networkBodyKeysToRedact"),w(this,"networkBodyKeysToRecord"),w(this,"networkHeaderKeysToRecord"),w(this,"lastNetworkRequestTimestamp"),w(this,"urlBlocklist"),w(this,"highlightEndpoints"),w(this,"requestResponseSanitizer"),this.options=e,this.disableConsoleRecording=!!e.disableConsoleRecording,this.reportConsoleErrors=null!=(t=e.reportConsoleErrors)&&t,this.enablePromisePatch=null!=(n=e.enablePromisePatch)&&n,this.consoleMethodsToRecord=e.consoleMethodsToRecord||[...sK],this.listeners=[],this.errors=[],this.messages=[],this.lastNetworkRequestTimestamp=0}isListening(){return this.listeners.length>0}startListening(){if(this.isListening())return;let e=this;this.disableConsoleRecording||this.listeners.push(function(e,t){let n;let r=t.logger;n=window[r];let i=[];if(t.level.includes("error")&&window){let n=n=>{let{message:r,error:i}=n,o=[];i&&(o=V.parse(i));let s=[G(r,t.stringifyOptions)];e({type:"Error",trace:o,time:Date.now(),value:s})};window.addEventListener("error",n),i.push(()=>{window&&window.removeEventListener("error",n)})}for(let r of t.level)i.push(function(n,r){return n[r]?function(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],i=n(r);return"function"==typeof i&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,()=>{e[t]=r}}catch(e){return()=>{}}}(n,r,n=>(...i)=>{n.apply(this,i);try{let n=V.parse(Error()),o=t.serializeConsoleAttributes?i.map(e=>"object"==typeof e?G(e,t.stringifyOptions):e):i.filter(e=>"object"!=typeof e).map(e=>`${e}`);e({type:r,trace:n.slice(1),value:o,attributes:G(i.filter(e=>"object"==typeof e).reduce((e,t)=>S(S({},e),t),{}),t.stringifyOptions),time:Date.now()})}catch(e){n("highlight logger error:",e,...i)}}):()=>{}}(n,r));return()=>{i.forEach(e=>e())}}(t=>{var n,r,i;if(this.reportConsoleErrors&&("Error"===t.type||"error"===t.type)&&t.value&&t.trace){let o=z(t.value);if(J.includes(o)||Q.some(e=>o.includes(e)))return;e.errors.push({event:o,type:"console.error",url:window.location.href,source:null!=(n=t.trace[0])&&n.fileName?t.trace[0].fileName:"",lineNumber:null!=(r=t.trace[0])&&r.lineNumber?t.trace[0].lineNumber:0,columnNumber:null!=(i=t.trace[0])&&i.columnNumber?t.trace[0].columnNumber:0,stackTrace:t.trace,timestamp:new Date().toISOString()})}e.messages.push(t)},{level:this.consoleMethodsToRecord,logger:"console",stringifyOptions:{depthOfLimit:10,numOfKeysLimit:100,stringLengthLimit:1e3}})),this.listeners.push(W(t=>{J.includes(t.event)||Q.some(e=>t.event.includes(e))||e.errors.push(t)},{enablePromisePatch:this.enablePromisePatch})),this.listeners.push(sU),sW.setupNetworkListener(this,this.options)}stopListening(){this.listeners.forEach(e=>e()),this.listeners=[]}static setupNetworkListener(e,t){var n,r,i,o,s,a,u,c,l,p,d,h;let f=(null==t?void 0:t.backendUrl)||"https://pub.highlight.io",_=t.otlpEndpoint||"https://otel.highlight.io";e.highlightEndpoints=[f,_],e.xhrNetworkContents=[],e.fetchNetworkContents=[],e.webSocketNetworkContents=[],e.webSocketEventContents=[],e.networkHeadersToRedact=[],e.urlBlocklist=[],e.tracingOrigins=t.tracingOrigins||[],(null==t?void 0:t.disableNetworkRecording)!==void 0?(e.disableNetworkRecording=null==t?void 0:t.disableNetworkRecording,e.enableRecordingNetworkContents=!1,e.disableRecordingWebSocketContents=!0,e.networkHeadersToRedact=[],e.networkBodyKeysToRedact=[],e.urlBlocklist=[],e.networkBodyKeysToRecord=[]):"boolean"==typeof(null==t?void 0:t.networkRecording)?(e.disableNetworkRecording=!t.networkRecording,e.enableRecordingNetworkContents=!1,e.disableRecordingWebSocketContents=!0,e.networkHeadersToRedact=[],e.networkBodyKeysToRedact=[],e.urlBlocklist=[]):((null==(n=t.networkRecording)?void 0:n.enabled)!==void 0?e.disableNetworkRecording=!t.networkRecording.enabled:e.disableNetworkRecording=!1,e.enableRecordingNetworkContents=(null==(r=t.networkRecording)?void 0:r.recordHeadersAndBody)||!1,e.disableRecordingWebSocketContents=(null==(i=t.networkRecording)?void 0:i.disableWebSocketEventRecordings)||!1,e.networkHeadersToRedact=(null==(s=null==(o=t.networkRecording)?void 0:o.networkHeadersToRedact)?void 0:s.map(e=>e.toLowerCase()))||[],e.networkBodyKeysToRedact=(null==(u=null==(a=t.networkRecording)?void 0:a.networkBodyKeysToRedact)?void 0:u.map(e=>e.toLowerCase()))||[],e.urlBlocklist=(null==(l=null==(c=t.networkRecording)?void 0:c.urlBlocklist)?void 0:l.map(e=>e.toLowerCase()))||[],e.urlBlocklist=[...e.urlBlocklist,...oC],e.requestResponseSanitizer=null==(p=t.networkRecording)?void 0:p.requestResponseSanitizer,e.networkHeaderKeysToRecord=null==(d=t.networkRecording)?void 0:d.headerKeysToRecord,e.networkHeaderKeysToRecord&&(e.networkHeadersToRedact=[],e.networkHeaderKeysToRecord=e.networkHeaderKeysToRecord.map(e=>e.toLocaleLowerCase())),e.networkBodyKeysToRecord=null==(h=t.networkRecording)?void 0:h.bodyKeysToRecord,e.networkBodyKeysToRecord&&(e.networkBodyKeysToRedact=[],e.networkBodyKeysToRecord=e.networkBodyKeysToRecord.map(e=>e.toLocaleLowerCase()))),!e.disableNetworkRecording&&e.enableRecordingNetworkContents&&e.listeners.push(s$({xhrCallback:t=>{e.xhrNetworkContents.push(t)},fetchCallback:t=>{e.fetchNetworkContents.push(t)},webSocketRequestCallback:t=>{e.webSocketNetworkContents&&e.webSocketNetworkContents.push(t)},webSocketEventCallback:t=>{e.webSocketEventContents.push(t)},disableWebSocketRecording:e.disableRecordingWebSocketContents,bodyKeysToRedact:e.networkBodyKeysToRedact,highlightEndpoints:e.highlightEndpoints,tracingOrigins:e.tracingOrigins,urlBlocklist:e.urlBlocklist,bodyKeysToRecord:e.networkBodyKeysToRecord}))}static getRecordedNetworkResources(e,t){var n,r;let i=[],o=[];if(!e.disableNetworkRecording){let o=(null==(n=null==window?void 0:window.performance)?void 0:n.timeOrigin)||0;i=performance.getEntriesByType("resource");let s=(t-o)*2;if(i=i.filter(t=>!(t.responseEnd<e.lastNetworkRequestTimestamp)&&oM(t.name,e.highlightEndpoints,e.tracingOrigins)).map(e=>b(S({},e.toJSON()),{offsetStartTime:e.startTime-s,offsetResponseEnd:e.responseEnd-s,offsetFetchStart:e.fetchStart-s})),e.lastNetworkRequestTimestamp=(null==(r=i.at(-1))?void 0:r.responseEnd)||e.lastNetworkRequestTimestamp,e.enableRecordingNetworkContents){let t={headersToRedact:e.networkHeadersToRedact,headersToRecord:e.networkHeaderKeysToRecord,requestResponseSanitizer:e.requestResponseSanitizer};i=ox(i,e.xhrNetworkContents,"xmlhttprequest",t),i=ox(i,e.fetchNetworkContents,"fetch",t)}}return e.disableRecordingWebSocketContents||(o=e.webSocketNetworkContents||[]),[...i,...o]}static getRecordedWebSocketEvents(e){let t=[];return e.disableNetworkRecording||e.disableRecordingWebSocketContents||(t=e.webSocketEventContents),t}static clearRecordedNetworkResources(e){e.disableNetworkRecording||(e.xhrNetworkContents=[],e.fetchNetworkContents=[],e.webSocketNetworkContents=[],e.webSocketEventContents=[],performance.clearResourceTimings())}}let sY=()=>{let e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";var t,n="";let r="undefined"!=typeof window&&(null==(t=window.crypto)?void 0:t.getRandomValues),i=new Uint32Array(28);r&&window.crypto.getRandomValues(i);for(let t=0;t<28;t++)r?n+=e.charAt(i[t]%e.length):n+=e.charAt(Math.floor(Math.random()*e.length));return n},sJ=()=>{"undefined"!=typeof window&&void 0===window._highlightFetchPatch&&(window._originalFetch=window.fetch,window._fetchProxy=(e,t)=>window._originalFetch(e,t),window._highlightFetchPatch=(e,t)=>window._fetchProxy.call(window||global,e,t),window.fetch=window._highlightFetchPatch)},sQ=()=>null,sZ=()=>{if("undefined"!=typeof window){if(void 0!==window._highlightWebSocketRequestCallback)return;window._highlightWebSocketRequestCallback=sQ,window._highlightWebSocketEventCallback=sQ;let e=new Proxy(window.WebSocket,{construct(e,t){let[,n]=oB(),r=new e(...t),i=e=>{window._highlightWebSocketRequestCallback({socketId:n,initiatorType:"websocket",type:"open",name:r.url,startTimeAbs:performance.timeOrigin+e.timeStamp})},o=e=>{window._highlightWebSocketRequestCallback({socketId:n,initiatorType:"websocket",type:"close",name:r.url,responseEndAbs:performance.timeOrigin+e.timeStamp}),r.removeEventListener("open",i),r.removeEventListener("error",a),r.removeEventListener("message",s),r.removeEventListener("close",o)},s=e=>{let t;let{data:i}=e,o="string"==typeof i?e.data:void 0;"string"==typeof i?t=i.length:i instanceof Blob?t=i.size:t=i.byteLength||0,window._highlightWebSocketEventCallback({socketId:n,type:"received",name:r.url,timeStamp:performance.timeOrigin+e.timeStamp,size:t,message:o})},a=e=>{window._highlightWebSocketEventCallback({socketId:n,type:"error",name:r.url,timeStamp:performance.timeOrigin+e.timeStamp,size:0})};r.addEventListener("open",i),r.addEventListener("error",a),r.addEventListener("message",s),r.addEventListener("close",o);let u=new Proxy(r.send,{apply:function(e,t,i){let o;let s=i[0],a="string"==typeof s?s:void 0;"string"==typeof s?o=s.length:s instanceof Blob?o=s.size:o=s.byteLength||0,window._highlightWebSocketEventCallback({socketId:n,type:"sent",name:r.url,timeStamp:performance.timeOrigin+performance.now(),size:o,message:a}),e.apply(t,i)}});return r.send=u,r}});window.WebSocket=e}},s0=()=>{let e={end:()=>{},spanContext:()=>({traceId:"",spanId:"",traceFlags:0}),setAttribute:(t,n)=>e,setAttributes:t=>e,addEvent:(t,n,r)=>e,addLinks:t=>e,setStatus:t=>e,recordException:()=>{},addLink:()=>e,updateName:()=>e,isRecording:()=>!1};return e};!function(e){e.Device="Device",e.WebVital="WebVital",e.Frontend="Frontend",e.Backend="Backend"}(f||(f={}));let s1=(e,t)=>{console.warn(`highlight.run warning: (${e}): `,t)},s2=[],s3,s4,s5,s6=!1,s8,s9={options:void 0,init:(e,t)=>{var r,i,o,s,a,u,c,l;try{if(s9.options=t,"undefined"==typeof window||"undefined"==typeof document)return;if(!e){console.info("Highlight is not initializing because projectID was passed undefined.");return}null!=t&&t.skipCookieSessionDataLoad?od(!1):ow();let p=ob(),d=sY();if(null!=p&&p.sessionSecureID&&(d=p.sessionSecureID),s6)return{sessionSecureID:d};s6=!0,sJ(),sZ(),Promise.all([n.e(285),n.e(577)]).then(n.bind(n,8880)).then(n=>L(void 0,[n],function*({Highlight:n,setupBrowserTracing:r,getTracer:i}){var o,s,a;r({otlpEndpoint:null!=(o=null==t?void 0:t.otlpEndpoint)?o:"https://otel.highlight.io",projectId:e,sessionSecureId:d,environment:null!=(s=null==t?void 0:t.environment)?s:"production",networkRecordingOptions:"object"==typeof(null==t?void 0:t.networkRecording)?t.networkRecording:void 0,tracingOrigins:null==t?void 0:t.tracingOrigins,serviceName:null!=(a=null==t?void 0:t.serviceName)?a:"highlight-browser"}),s8=i,s4=new n(h,s5),sJ(),sZ(),null!=t&&t.manualStart||(yield s4.initialize())}));let h=b(S({},t),{organizationID:e,firstloadVersion:"9.7.3",environment:(null==t?void 0:t.environment)||"production",appVersion:null==t?void 0:t.version,sessionSecureID:d});return s5=new sW(h),null!=t&&t.manualStart||s5.startListening(),!(null!=(i=null==(r=null==t?void 0:t.integrations)?void 0:r.mixpanel)&&i.disabled)&&null!=(s=null==(o=null==t?void 0:t.integrations)?void 0:o.mixpanel)&&s.projectToken&&N(t.integrations.mixpanel),!(null!=(u=null==(a=null==t?void 0:t.integrations)?void 0:a.amplitude)&&u.disabled)&&null!=(l=null==(c=null==t?void 0:t.integrations)?void 0:c.amplitude)&&l.apiKey&&A(t.integrations.amplitude),{sessionSecureID:d}}catch(e){s1("init",e)}},snapshot:e=>L(void 0,null,function*(){try{if(s4&&s4.ready)return yield s4.snapshot(e)}catch(e){s1("snapshot",e)}}),addSessionFeedback:({verbatim:e,userName:t,userEmail:n,timestampOverride:r})=>{try{s9.onHighlightReady(()=>s4.addSessionFeedback({verbatim:e,timestamp:r||new Date().toISOString(),user_email:n,user_name:t}))}catch(e){s1("error",e)}},consumeError:(e,t,n)=>{try{s9.onHighlightReady(()=>s4.consumeCustomError(e,t,JSON.stringify(n)))}catch(e){s1("error",e)}},consume:(e,t)=>{try{s9.onHighlightReady(()=>s4.consumeError(e,t))}catch(e){s1("error",e)}},error:(e,t)=>{try{s9.onHighlightReady(()=>s4.pushCustomError(e,JSON.stringify(t)))}catch(e){s1("error",e)}},track:(e,t={})=>{var n,r,i,o,s,a,u,c,l,p,d;try{s9.onHighlightReady(()=>s4.addProperties(b(S({},t),{event:e})));let h=null==s4?void 0:s4.getCurrentSessionURL();null!=(i=null==(r=null==(n=s9.options)?void 0:n.integrations)?void 0:r.mixpanel)&&i.disabled||null!=(o=window.mixpanel)&&o.track&&window.mixpanel.track(e,b(S({},t),{highlightSessionURL:h})),null!=(u=null==(a=null==(s=s9.options)?void 0:s.integrations)?void 0:a.amplitude)&&u.disabled||null!=(c=window.amplitude)&&c.getInstance&&window.amplitude.getInstance().logEvent(e,b(S({},t),{highlightSessionURL:h})),null!=(d=null==(p=null==(l=s9.options)?void 0:l.integrations)?void 0:p.intercom)&&d.disabled||window.Intercom&&window.Intercom("trackEvent",e,t)}catch(e){s1("track",e)}},start:e=>{(null==s4?void 0:s4.state)!=="Recording"||null!=e&&e.forceNew?(s5.startListening(),s9.onHighlightReady(()=>L(void 0,null,function*(){yield s4.initialize(e)}),{waitForReady:!1})):null!=e&&e.silent||console.warn("Highlight is already recording. Please `H.stop()` the current session before starting a new one.")},stop:e=>{(null==s4?void 0:s4.state)!=="Recording"?null!=e&&e.silent||console.warn("Highlight is already stopped. Please call `H.start()`."):s9.onHighlightReady(()=>s4.stopRecording(!0))},identify:(e,t={})=>{var n,r,i,o,s,a,u,c;try{s9.onHighlightReady(()=>s4.identify(e,t))}catch(e){s1("identify",e)}if(null!=(i=null==(r=null==(n=s9.options)?void 0:n.integrations)?void 0:r.mixpanel)&&i.disabled||null!=(o=window.mixpanel)&&o.identify&&(window.mixpanel.identify("string"==typeof(null==t?void 0:t.email)?null==t?void 0:t.email:e),t&&(window.mixpanel.track("identify",t),window.mixpanel.people.set(t))),!(null!=(u=null==(a=null==(s=s9.options)?void 0:s.integrations)?void 0:a.amplitude)&&u.disabled)&&null!=(c=window.amplitude)&&c.getInstance&&(window.amplitude.getInstance().setUserId(e),Object.keys(t).length>0)){let e=Object.keys(t).reduce((e,n)=>(e.set(n,t[n]),e),new window.amplitude.Identify);window.amplitude.getInstance().identify(e)}},metrics:e=>{try{s9.onHighlightReady(()=>s4.recordMetric(e.map(e=>b(S({},e),{category:f.Frontend}))))}catch(e){s1("metrics",e)}},startSpan:(e,t,n,r)=>{let i="function"==typeof s8?s8():void 0;if(!i){let e=s0();return void 0===r&&void 0===n?t(e):void 0===r?n(e):r(e)}let o=(e,t)=>{let n=t(e);return n instanceof Promise?n.finally(()=>e.end()):(e.end(),n)};return void 0===r&&void 0===n?i.startActiveSpan(e,e=>o(e,t)):void 0===r?i.startActiveSpan(e,t,e=>o(e,n)):i.startActiveSpan(e,t,n,e=>o(e,r))},startManualSpan:(e,t,n,r)=>{let i="function"==typeof s8?s8():void 0;if(!i){let e=s0();return void 0===r&&void 0===n?t(e):void 0===r?n(e):r(e)}return void 0===r&&void 0===n?i.startActiveSpan(e,t):void 0===r?i.startActiveSpan(e,t,n):i.startActiveSpan(e,t,n,r)},getSessionURL:()=>new Promise((e,t)=>{s9.onHighlightReady(()=>{let n=s4.sessionData.sessionSecureID,r=ob(n);r?e(`https://${M}/${r.projectID}/sessions/${n}`):t(Error(`Unable to get session URL: ${n}`))})}),getSessionDetails:()=>new Promise((e,t)=>{s9.onHighlightReady(()=>L(void 0,null,function*(){try{let t=yield s9.getSessionURL();if(!t)throw Error("Could not get session URL");let n=s4.sessionData.sessionSecureID,r=ob(n),i=null==r?void 0:r.sessionStartTime;if(!i)throw Error("Could not get session start timestamp");let o=new Date().getTime(),s=new URL(t),a=new URL(t);a.searchParams.set("ts",((o-i)/1e3).toString()),e({url:s.toString(),urlWithTimestamp:a.toString(),sessionSecureID:n})}catch(e){t(e)}}))}),getRecordingState:()=>{var e;return null!=(e=null==s4?void 0:s4.state)?e:"NotRecording"},onHighlightReady:(e,t)=>{if(s4&&s4.ready){e();return}if(s2.push({options:t,func:e}),void 0!==s3)return;let n=()=>{s2=s2.filter(e=>{var t;return!s4||(null==(t=e.options)?void 0:t.waitForReady)!==!1&&!s4.ready||(e.func(),!1)}),s3=void 0,s2.length>0&&(s3=setTimeout(n,200))};n()}};"undefined"!=typeof window&&(window.H=s9),(()=>{var e,t;"undefined"!=typeof chrome&&null!=(e=null==chrome?void 0:chrome.runtime)&&e.onMessage&&(null==(t=null==chrome?void 0:chrome.runtime)||t.onMessage.addListener((e,t,n)=>{let r=e.action;switch(console.log(`[highlight] received '${r}' event from extension.`),r){case"init":s9.init(1,{debug:!0}),s9.getSessionURL().then(e=>{n({url:e})});break;case"stop":s9.stop(),n({success:!0})}return!0}))})(),sJ(),sZ()}}]);
//# sourceMappingURL=162dbd6b-7363fa45d9008244.js.map